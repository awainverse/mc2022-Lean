%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}
%% turn off hyperref patch of \index as sphinx.xdy xindy module takes care of
%% suitable \hyperpage mark-up, working around hyperref-xindy incompatibility
\PassOptionsToPackage{hyperindex=false}{hyperref}
%% memoir class requires extra handling
\makeatletter\@ifclassloaded{memoir}
{\ifdefined\memhyperindexfalse\memhyperindexfalse\fi}{}\makeatother

\PassOptionsToPackage{warn}{textcomp}

\catcode`^^^^00a0\active\protected\def^^^^00a0{\leavevmode\nobreak\ }
\usepackage{cmap}
\usepackage{fontspec}
\defaultfontfeatures[\rmfamily,\sffamily,\ttfamily]{}
\usepackage{amsmath,amssymb,amstext}
\usepackage{polyglossia}
\setmainlanguage{english}



\setmainfont{FreeSerif}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Italic,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldItalic
]
\setsansfont{FreeSans}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Oblique,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldOblique,
]
\setmonofont{FreeMono}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Oblique,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldOblique,
]



\usepackage[Bjarne]{fncychap}
\usepackage[,numfigreset=1,mathnumfig]{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}


\usepackage{sphinxmessages}
\setcounter{tocdepth}{0}


\usepackage{unixode}
\definecolor{VerbatimBorderColor}{rgb}{0.7,0.7,0.7}
% from sphinxmanual.cls: put authors on separate lines
\DeclareRobustCommand{\and}{%
   \end{tabular}\kern-\tabcolsep\\\begin{tabular}[t]{c}%
}


\title{Lean at MC2022}
\date{Jun 26, 2022}
\release{0.1}
\author{Aaron Anderson, Apurva Nakade \and Jalex Stark}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{Introduction}
\label{\detokenize{introduction:introduction}}\label{\detokenize{introduction:id1}}\label{\detokenize{introduction::doc}}

\section{What is Lean?}
\label{\detokenize{introduction:what-is-lean}}
\sphinxAtStartPar
\sphinxhref{https://leanprover.github.io/about/}{Lean} is an open source proof\sphinxhyphen{}checker and a proof\sphinxhyphen{}assistant.
One can \sphinxstyleemphasis{explain} mathematical proofs to it and it can check their correctness.
It also simplifies the proof writing process by providing \sphinxcode{\sphinxupquote{goals}} and \sphinxcode{\sphinxupquote{tactics}}.

\sphinxAtStartPar
Lean is built on top of a formal system called type theory.
In type theory, the basic notions are “terms” and “types” — compare to “elements” and “sets” in set theory.
Every term has a type, and types are just a special kind of term.
Terms can be interpreted as mathematical objects, functions, propositions, or proofs.
The only two things Lean can do is \sphinxstyleemphasis{create} terms and \sphinxstyleemphasis{check} their types.
By iterating these two operations, we can teach Lean to verify complex mathematical proofs.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kd}{def} \PYG{n}{x} \PYG{o}{:=} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{2}                                  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} a natural number}
\PYG{k+kd}{def} \PYG{n}{f} \PYG{o}{(}\PYG{n}{x} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:=} \PYG{n}{x} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{3}                          \PYG{c+c1}{\PYGZhy{}\PYGZhy{} a function}
\PYG{k+kd}{def} \PYG{n}{easy\PYGZus{}theorem\PYGZus{}statement} \PYG{o}{:=} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{4}         \PYG{c+c1}{\PYGZhy{}\PYGZhy{} a proposition}
\PYG{k+kd}{def} \PYG{n}{fermats\PYGZus{}last\PYGZus{}theorem\PYGZus{}statement}              \PYG{c+c1}{\PYGZhy{}\PYGZhy{} another proposition}
  \PYG{o}{:=}
  \PYG{n+nb+bp}{∀} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{,}
  \PYG{n}{n} \PYG{n+nb+bp}{\PYGZgt{}} \PYG{l+m+mi}{2}
  \PYG{n+nb+bp}{→}
  \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{∃} \PYG{n}{x} \PYG{n}{y} \PYG{n}{z} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{,} \PYG{o}{(}\PYG{n}{x}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{n}{y}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n} \PYG{n+nb+bp}{=} \PYG{n}{z}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{x} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{y} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{z} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{)}

\PYG{k+kd}{theorem}
\PYG{n}{easy\PYGZus{}proof} \PYG{o}{:} \PYG{n}{easy\PYGZus{}theorem\PYGZus{}statement}             \PYG{c+c1}{\PYGZhy{}\PYGZhy{} proof of easy\PYGZus{}theorem}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{refl}\PYG{o}{,}                                         \PYG{c+c1}{\PYGZhy{}\PYGZhy{} a tactic}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem}
\PYG{n}{hard\PYGZus{}proof} \PYG{o}{:} \PYG{n}{fermats\PYGZus{}last\PYGZus{}theorem\PYGZus{}statement}     \PYG{c+c1}{\PYGZhy{}\PYGZhy{} cheating!}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k}{\PYGZsh{}check} \PYG{n}{x}
\PYG{k}{\PYGZsh{}check} \PYG{n}{f}
\PYG{k}{\PYGZsh{}check} \PYG{n}{easy\PYGZus{}theorem\PYGZus{}statement}
\PYG{k}{\PYGZsh{}check} \PYG{n}{fermats\PYGZus{}last\PYGZus{}theorem\PYGZus{}statement}
\PYG{k}{\PYGZsh{}check} \PYG{n}{easy\PYGZus{}proof}
\PYG{k}{\PYGZsh{}check} \PYG{n}{hard\PYGZus{}proof}
\end{sphinxVerbatim}


\section{How to use these notes}
\label{\detokenize{introduction:how-to-use-these-notes}}
\sphinxAtStartPar
Every once in a while, you will see a code snippet like this:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZsh{}eval} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Hello, World!}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Clicking on the \sphinxcode{\sphinxupquote{try it!}} button in the upper right corner will
open a copy in a window
so that you can edit it,
and Lean provides feedback in the \sphinxcode{\sphinxupquote{Lean Infoview}} window.
We use this feature to provide exercises inline in the notes.
We recommend attempting each exercise as you go along.

\sphinxAtStartPar
These notes are designed for a 5\sphinxhyphen{}day Lean crash course at Mathcamp 2022, based on a similar class at Mathcamp 2020.
On Days 1 and 2 you’ll learn the basics of type theory and some basic \sphinxcode{\sphinxupquote{tactics}} in Lean.
On Days 3, 4, 5 you’ll use these to prove increasingly complex theorems, namely the infinitude of primes and irrationality of \(\sqrt{2}\).

\sphinxAtStartPar
These notes provide a sneak\sphinxhyphen{}peek into the world of theorem proving in Lean and are by no means comprehensive.
It is recommended that you simultaneously attempt at least one of the following two options.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Play the \sphinxhref{https://wwwf.imperial.ac.uk/~buzzard/xena/natural\_number\_game/}{Natural Number Game}.

\item {} 
\sphinxAtStartPar
Read \sphinxhref{https://leanprover.github.io/theorem\_proving\_in\_lean/}{Theorem Proving in Lean}.

\end{enumerate}

\sphinxAtStartPar
The \sphinxhref{https://wwwf.imperial.ac.uk/~buzzard/xena/natural\_number\_game/}{Natural Number Game} is a fun (and highly addictive!) game that proves same basic properties of natural numbers in Lean.
\sphinxhref{https://leanprover.github.io/theorem\_proving\_in\_lean/}{Theorem Proving in Lean} is a comprehensive online book that aims to cover all the theorem proving aspects of Lean in great detail.

\sphinxAtStartPar
The Lean community is very welcoming to newcomers, and people are available on the \sphinxhref{https://leanprover.zulipchat.com/}{Lean Zulip chat group} round the clock
to answer questions.
You can also join Kevin Buzzard’s \sphinxhref{https://t.co/DSz6mbw4Oc?amp=1}{Discord server} which has a relatively younger crowd.


\section{Acknowledgments.}
\label{\detokenize{introduction:acknowledgments}}
\sphinxAtStartPar
These notes are developed by \sphinxhref{https://www.math.ucla.edu/~aaronanderson/}{Aaron Anderson}, updating notes for Mathcamp 2020 by \sphinxhref{https://apurvanakade.github.io}{Apurva Nakade} and \sphinxhref{https://jalexstark.com/}{Jalex Stark}
with a lot of help from Mathcamp campers and Mathcamp staff Joanna and Maya.
Large chunks of these notes are taken from various learning resources available on the \sphinxhref{https://leanprover-community.github.io/learn.html}{leanprover\sphinxhyphen{}community website}.


\section{Useful Links.}
\label{\detokenize{introduction:useful-links}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxhref{http://www.cs.ru.nl/~freek/100/index.html}{Formalizing 100 theorems}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://leanprover-community.github.io/100.html}{Formalizing 100 theorems in Lean}

\item {} \begin{description}
\sphinxlineitem{Articles, videos, blog posts, etc.}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumii}{enumiii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxhref{https://xenaproject.wordpress.com/}{The Xena Project}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://www.ams.org/journals/notices/201806/rnoti-p681.pdf}{The Mechanization of Mathematics}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://www.youtube.com/watch?v=Dp-mQ3HxgDE}{The Future of Mathematics}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://www.twitch.tv/kbuzzard}{Kevin Buzzard’s Twitch channel}. In particular, checkout \sphinxhref{https://www.twitch.tv/videos/665779560}{this video} about summer projects.

\item {} 
\sphinxAtStartPar
\sphinxhref{https://www.twitch.tv/jalexstark}{Jalex Stark’s Twitch channel}.

\end{enumerate}

\end{description}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://t.co/DSz6mbw4Oc?amp=1}{Discord server}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://leanprover.zulipchat.com/}{Lean Zulip chat group}

\end{enumerate}

\sphinxstepscope


\chapter{Logic in Lean \sphinxhyphen{} Part 1}
\label{\detokenize{day1:logic-in-lean-part-1}}\label{\detokenize{day1:day1}}\label{\detokenize{day1::doc}}
\sphinxAtStartPar
Today’s goal is to understand the philosophy of type theory (in Lean).
Don’t try to memorize anything, that will happen automatically.
Instead, try to do as many exercises as you can.
Practice is the only way to learn a new programming language.
And \sphinxstylestrong{always save your work}.
The easiest way to do this in the browser is by bookmarking the Lean page, which contains your code in its URL.

\sphinxAtStartPar
Lean is built on top of a logic system called \sphinxstyleemphasis{type theory}, which is an alternative to \sphinxstyleemphasis{set theory}.
In type theory, instead of elements we have \sphinxstyleemphasis{terms} and every term has a \sphinxstyleemphasis{type}.
When translated to math, terms can be either mathematical objects, functions, propositions, or proofs.
The notation \sphinxcode{\sphinxupquote{x : X}} stands for “\sphinxcode{\sphinxupquote{x}} is a term of type \sphinxcode{\sphinxupquote{X}}” or “\sphinxcode{\sphinxupquote{x}} is an inhabitant of \sphinxcode{\sphinxupquote{X}}”.
For the most part, you can think of a type as a set and terms as elements of the set.


\section{Propositions as types}
\label{\detokenize{day1:propositions-as-types}}
\sphinxAtStartPar
In set theory, a \sphinxstylestrong{proposition} is any statement that has the potential of being true or false, like \sphinxcode{\sphinxupquote{2 + 2 = 4}}, \sphinxcode{\sphinxupquote{2 + 2 = 5}}, “Fermat’s last theorem”, or “Riemann hypothesis”.
In type theory, there is a special type called \sphinxcode{\sphinxupquote{Prop}} whose inhabitants are propositions.
Furthermore, each proposition \sphinxcode{\sphinxupquote{P}} is itself a type and the inhabitants of \sphinxcode{\sphinxupquote{P}} are its proofs!

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{P} \PYG{p}{:} \PYG{n}{Prop}     \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{P} \PYG{o+ow}{is} \PYG{n}{a} \PYG{n}{proposition}
\PYG{n}{hp} \PYG{p}{:} \PYG{n}{P}       \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{n}{hp} \PYG{o+ow}{is} \PYG{n}{a} \PYG{n}{proof} \PYG{n}{of} \PYG{n}{P}
\end{sphinxVerbatim}

\sphinxAtStartPar
As such, in type theory “producing a proof of \sphinxcode{\sphinxupquote{P}}” is the same as “producing a term of type \sphinxcode{\sphinxupquote{P}}”
and so a proposition \sphinxcode{\sphinxupquote{P}} is \sphinxcode{\sphinxupquote{true}} if there exists a term \sphinxcode{\sphinxupquote{hp}} of type \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
\sphinxstylestrong{Notation.} Throughout these notes, \sphinxcode{\sphinxupquote{P, Q, R, ...}} will denote propositions.


\subsection{Propositions in Lean}
\label{\detokenize{day1:propositions-in-lean}}
\sphinxAtStartPar
In Lean, a proposition and its proof are written using the following syntax.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kd}{theorem} \PYG{n}{fermats\PYGZus{}last\PYGZus{}theorem}
  \PYG{o}{(}\PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{n\PYGZus{}gt\PYGZus{}2} \PYG{o}{:} \PYG{n}{n} \PYG{n+nb+bp}{\PYGZgt{}} \PYG{l+m+mi}{2}\PYG{o}{)}
  \PYG{o}{:}
  \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{∃} \PYG{n}{x} \PYG{n}{y} \PYG{n}{z} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{,} \PYG{o}{(}\PYG{n}{x}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{n}{y}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n} \PYG{n+nb+bp}{=} \PYG{n}{z}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{x} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{y} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)} \PYG{n+nb+bp}{∧} \PYG{o}{(}\PYG{n}{z} \PYG{n+nb+bp}{≠} \PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{)}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
Let us parse the above statement. (Lean ignores multiple whitespaces, tabs, and new lines.
You could theoretically write the entire code in a single line. Please don’t.)
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{fermats\_last\_theorem}} is the name of the theorem.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{(n : ℕ)}} and \sphinxcode{\sphinxupquote{(n\_gt\_2 : n > 2)}} are the two \sphinxstyleemphasis{hypotheses}.
The former says \sphinxcode{\sphinxupquote{n}} is a natural number and the latter says that \sphinxcode{\sphinxupquote{n\_gt\_2}} is a proof of \sphinxcode{\sphinxupquote{n > 2}}.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{:}} is the delimiter between hypotheses and targets

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{¬ (∃ x y z : ℕ, (x\textasciicircum{}n + y\textasciicircum{}n = z\textasciicircum{}n) ∧ (x ≠ 0) ∧ (y ≠ 0) ∧ (z ≠ 0))}} is the \sphinxstyleemphasis{target} of the theorem.
We’ll learn all these symbols soon.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{:= begin ... end}} contains the proof. When you start your proof, Lean opens up a goal window  for you to keep track of hypotheses and targets.
\sphinxstylestrong{Your goal is to produce a term that has the type of the target}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZhy{}\PYGZhy{} example of Lean goal window
n : ℕ, \PYGZhy{}\PYGZhy{} hypothesis 1
n\PYGZus{}gt\PYGZus{}2 : n \PYGZgt{} 2 \PYGZhy{}\PYGZhy{} hypothesis 2
⊢ ¬∃ (x y z : ℕ), x \PYGZca{} n + y \PYGZca{} n = z \PYGZca{} n ∧ x ≠ 0 ∧ y ≠ 0 ∧ z ≠ 0 \PYGZhy{}\PYGZhy{} target
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
The commands you write between \sphinxcode{\sphinxupquote{begin}} and \sphinxcode{\sphinxupquote{end}} are called \sphinxstyleemphasis{tactics}.
\sphinxcode{\sphinxupquote{sorry,}} is an example of a tactic.
\sphinxstylestrong{Very Important:} All tactics must end with a comma (,) .

\end{itemize}

\sphinxAtStartPar
Even though they are not explicitly displayed,
all the theorems in the Lean library are also hypotheses that you can use to close the goal.


\subsection{Implication}
\label{\detokenize{day1:implication}}
\sphinxAtStartPar
In set theory, the proposition \sphinxcode{\sphinxupquote{P ⇒ Q}} (“P implies Q”) is true if either both \sphinxcode{\sphinxupquote{P}} and \sphinxcode{\sphinxupquote{Q}} are true or if \sphinxcode{\sphinxupquote{P}} is false.
In type theory, a proof of an implication \sphinxcode{\sphinxupquote{P ⇒ Q}} is just a function \sphinxcode{\sphinxupquote{f : P → Q}}.
Given a function \sphinxcode{\sphinxupquote{f : P → Q}}, every proof \sphinxcode{\sphinxupquote{hp : P}} produces a proof \sphinxcode{\sphinxupquote{f(hp) : Q}}.
If \sphinxcode{\sphinxupquote{P}} is false then \sphinxcode{\sphinxupquote{P}} is \sphinxstyleemphasis{empty}, and there exists an \sphinxhref{https://en.wikipedia.org/wiki/Function\_(mathematics)\#empty\_function}{empty function} from an empty type to any type.
Hence, in type theory we use \sphinxcode{\sphinxupquote{→}} to denote implication. (Type it in Lean editors with \sphinxcode{\sphinxupquote{\textbackslash{}to}}.)


\section{Implications in Lean}
\label{\detokenize{day1:implications-in-lean}}
\sphinxAtStartPar
We’ll start learning tactics by proving implications in Lean.
In the following sections, there are tables describing what a tactic does.
Solve the following exercises to see the tactics in action.

\sphinxAtStartPar
The first two tactics we’ll learn are \sphinxcode{\sphinxupquote{refine}} and \sphinxcode{\sphinxupquote{rintro}}.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{20}{100}|\X{80}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refine}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{P}} is the target of the current goal
and \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{P}},
then \sphinxcode{\sphinxupquote{refine hp,}} will close the goal.

\sphinxAtStartPar
Mathematically, this saying “this is what we were required to prove”.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rintro}}
&
\sphinxAtStartPar
If the target of the current goal is a function \sphinxcode{\sphinxupquote{P → Q}},
then \sphinxcode{\sphinxupquote{rintro hp,}} will produce a hypothesis
\sphinxcode{\sphinxupquote{hp : P}} and change the target to  \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
Mathematically, this is saying that in order to define a function from \sphinxcode{\sphinxupquote{P}} to \sphinxcode{\sphinxupquote{Q}},
we first need to choose (introduce) an arbitrary element of \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
If you want to use this repeatedly, you can type \sphinxcode{\sphinxupquote{rintro h1 h2}} instead of \sphinxcode{\sphinxupquote{rintro h1,}} and then \sphinxcode{\sphinxupquote{rintro h2,}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\def\sphinxLiteralBlockLabel{\label{\detokenize{day1:refine-rintro-examples}}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{.}


\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{u}\PYG{l+s+sd}{n}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{d}\PYG{l+s+sd}{u}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{o}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{tautology} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{(}\PYG{n}{hp} \PYG{o}{:} \PYG{n}{P}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{tautology\PYGZsq{}} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)}\PYG{o}{:} \PYG{o}{(}\PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{P}\PYG{o}{)}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Can you find two different ways of proving the following?}
\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{o}{(}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{P}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{P}\PYG{o}{)}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
We know how to start a proof, and how to finish a proof, but what about partial progress?
Here’s two approaches.
One uses a new tactic, \sphinxcode{\sphinxupquote{have}}, for forward reasoning,
and the other uses \sphinxcode{\sphinxupquote{refine}} again for backward reasoning.

\sphinxAtStartPar
In both of these cases, if \sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}}, then we can think of \sphinxcode{\sphinxupquote{f}} as a function,
sending proofs of \sphinxcode{\sphinxupquote{P}} to proofs of \sphinxcode{\sphinxupquote{Q}}.
If \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{P}}, we can literally write \sphinxcode{\sphinxupquote{f (hp)}}, although often we can skip the parentheses and just write \sphinxcode{\sphinxupquote{f hp}}.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{20}{100}|\X{80}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}} is used to create intermediate variables.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}} and
\sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{P}}, then
\sphinxcode{\sphinxupquote{have hq := f hp,}} creates the hypothesis \sphinxcode{\sphinxupquote{hq : Q}} .
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refine}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refine}} can be used for backward reasoning.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{Q}} and
\sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}}, then
\sphinxcode{\sphinxupquote{refine f \_,}} changes target to \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
Mathematically, this is equivalent to saying “because \sphinxcode{\sphinxupquote{P}} implies \sphinxcode{\sphinxupquote{Q}}, to prove \sphinxcode{\sphinxupquote{Q}} it suffices to prove \sphinxcode{\sphinxupquote{P}}”.
The \sphinxcode{\sphinxupquote{\_}} stands in for a proof of \sphinxcode{\sphinxupquote{P}} that we will provide later.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxAtStartPar
Often these two tactics can be used interchangeably.
When writing a big proof, you often want a healthy combination of the two that makes the proof readable.

\def\sphinxLiteralBlockLabel{\label{\detokenize{day1:have-apply-examples}}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{q}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{=}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{o}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{q}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{.}


\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{\PYGZus{}}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{n}{R} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{(}\PYG{n}{hp} \PYG{o}{:} \PYG{n}{P}\PYG{o}{)} \PYG{o}{(}\PYG{n}{f} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)} \PYG{o}{(}\PYG{n}{g} \PYG{o}{:} \PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{R}\PYG{o}{)} \PYG{o}{:} \PYG{n}{R} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{n}{R} \PYG{n}{S} \PYG{n}{T} \PYG{n}{U}\PYG{o}{:} \PYG{k+kt}{Type}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{hpq} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{hqr} \PYG{o}{:} \PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{R}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{hqt} \PYG{o}{:} \PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{T}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{hst} \PYG{o}{:} \PYG{n}{S} \PYG{n+nb+bp}{→} \PYG{n}{T}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{htu} \PYG{o}{:} \PYG{n}{T} \PYG{n+nb+bp}{→} \PYG{n}{U}\PYG{o}{)}
\PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{U} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{And / Or}
\label{\detokenize{day1:and-or}}
\sphinxAtStartPar
The operators \sphinxstyleemphasis{and} (\sphinxcode{\sphinxupquote{∧}}) and \sphinxstyleemphasis{or} (\sphinxcode{\sphinxupquote{∨}}) are easy to use in Lean.
(You can type them in Lean editors with \sphinxcode{\sphinxupquote{\textbackslash{}and}} and \sphinxcode{\sphinxupquote{\textbackslash{}or}}.)
Given a term \sphinxcode{\sphinxupquote{hpq : P ∧ Q}},
there are tactics that let you
create terms \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hq : Q}}, and vice versa.
Similarly for \sphinxcode{\sphinxupquote{P ∨ Q}}, with a subtle change (see below).

\sphinxAtStartPar
\sphinxstylestrong{Note} that when multiple goals are open, you are trying to solve the topmost goal.
The easiest way to keep track of multiple goals is with brackets.
After you use a tactic with multiple goals, you should use \sphinxcode{\sphinxupquote{\{ \},}} to bracket off your attempt to solve the first goal,
and \sphinxcode{\sphinxupquote{\{ \},}} to bracket off your second goal.
Then if you put your cursor in between the brackets, the goal monitor on the right should only display one goal at a time!


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}} is a general tactic that breaks a complicated term into simpler ones.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hpq}} is a term of type \sphinxcode{\sphinxupquote{P ∧ Q}}, then
\sphinxcode{\sphinxupquote{cases hpq with hp hq,}} breaks it into \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hp : Q}}.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{fg}} is a term of type \sphinxcode{\sphinxupquote{P ↔ Q}}, then
\sphinxcode{\sphinxupquote{cases fg with f g,}} breaks it into \sphinxcode{\sphinxupquote{f : P → Q}} and \sphinxcode{\sphinxupquote{g : Q → P}}.
(This is because \sphinxcode{\sphinxupquote{P ↔ Q}} is actually shorthand for \sphinxcode{\sphinxupquote{(P → Q) ∧ (Q → P)}}.)

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hpq}} is a term of type \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{cases hpq with hp hq,}} creates two goals and adds the hypotheses \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hq : Q}} to one each.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{split}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{split}} is a general tactic that breaks a complicated goal into simpler ones.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∧ Q}}, then
\sphinxcode{\sphinxupquote{split,}} breaks up the goal into two goals with targets \sphinxcode{\sphinxupquote{P}} and \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ↔ Q}}, then
\sphinxcode{\sphinxupquote{split,}} breaks up the goal into two goals with targets \sphinxcode{\sphinxupquote{P → Q}} and \sphinxcode{\sphinxupquote{Q → P}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{left}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{left,}} changes the target to \sphinxcode{\sphinxupquote{P}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{right}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{right,}} changes the target to \sphinxcode{\sphinxupquote{Q}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{a}\PYG{l+s+sd}{k}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{o}\PYG{l+s+sd}{m}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{s}\PYG{l+s+sd}{.}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∧}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∨}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{↔}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{q}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{q}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∧}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{↔}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{t}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{/}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{g}\PYG{l+s+sd}{h}\PYG{l+s+sd}{t}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∨}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{e}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{t}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{g}\PYG{l+s+sd}{h}\PYG{l+s+sd}{t}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{(}\PYG{l+s+sd}{c}\PYG{l+s+sd}{h}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{y}\PYG{l+s+sd}{)}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{bracket\PYGZus{}example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{(}\PYG{n}{hp} \PYG{o}{:} \PYG{n}{P}\PYG{o}{)} \PYG{o}{(}\PYG{n}{hq} \PYG{o}{:} \PYG{n}{Q}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{∧} \PYG{n}{Q} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{split}\PYG{o}{,}
  \PYG{o}{\PYGZob{}}
    \PYG{g+gr}{sorry}\PYG{o}{,}
  \PYG{o}{\PYGZcb{}}\PYG{o}{,}
  \PYG{o}{\PYGZob{}}
    \PYG{g+gr}{sorry}\PYG{o}{,}
  \PYG{o}{\PYGZcb{}}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{∧} \PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{Q} \PYG{n+nb+bp}{∧} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{∨} \PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n}{Q} \PYG{n+nb+bp}{∨} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Negation}
\label{\detokenize{day1:negation}}
\sphinxAtStartPar
In type theory, there is a special proposition \sphinxcode{\sphinxupquote{false : Prop}} which has no proof (hence is \sphinxstyleemphasis{empty}).
The negation of a proposition \sphinxcode{\sphinxupquote{¬ P}} is the implication \sphinxcode{\sphinxupquote{P → false}}.
Such a function exists if and only if \sphinxcode{\sphinxupquote{P}} itself is empty (\sphinxhref{https://en.wikipedia.org/wiki/Function\_(mathematics)\#empty\_function}{empty function}), hence \sphinxcode{\sphinxupquote{P → false}} is inhabited if and only if \sphinxcode{\sphinxupquote{P}} is empty which justifies using it as the definition of \sphinxcode{\sphinxupquote{¬ P}}.
(Type \sphinxcode{\sphinxupquote{¬}} it as \sphinxcode{\sphinxupquote{\textbackslash{}not}}.)
\begin{description}
\sphinxlineitem{\sphinxstylestrong{To summarize:}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Proving a proposition \sphinxcode{\sphinxupquote{P}} is equivalent to producing an inhabitant \sphinxcode{\sphinxupquote{hp : P}}.

\item {} 
\sphinxAtStartPar
Proving an implication \sphinxcode{\sphinxupquote{P → Q}} is equivalent to producing a function \sphinxcode{\sphinxupquote{f : P → Q}}.

\item {} 
\sphinxAtStartPar
The negation, \sphinxcode{\sphinxupquote{¬ P}}, is defined as the implication \sphinxcode{\sphinxupquote{P → false}}.

\end{enumerate}

\end{description}

\sphinxAtStartPar
For the following exercises, recall that \sphinxcode{\sphinxupquote{¬ P}} is defined as \sphinxcode{\sphinxupquote{P → false}},
\sphinxcode{\sphinxupquote{¬ (¬ P)}} is \sphinxcode{\sphinxupquote{(P → false) → false}}, and so on.
Here are some \DUrole{xref,std,std-doc}{hints} if you get stuck.

\def\sphinxLiteralBlockLabel{\label{\detokenize{day1:negation-examples}}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{R}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{¬}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{¬}\PYG{l+s+sd}{ }\PYG{l+s+sd}{(}\PYG{l+s+sd}{¬}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{)}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{(}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{)}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{self\PYGZus{}imp\PYGZus{}not\PYGZus{}not\PYGZus{}self} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{¬} \PYG{n}{P}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{contrapositive} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n+nb+bp}{¬}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬}\PYG{n}{P}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{¬} \PYG{n}{P}\PYG{o}{)}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
Now that we’re working with negations, we can start to talk about everybody’s favorite or least favorite proof technique, contradiction.
Or at least, a version of it called the \sphinxhref{https://en.wikipedia.org/wiki/Principle\_of\_explosion}{“Principle of Explosion”}.
This says that you can derive any fact from a contradiction.
In Lean, this is written as \sphinxcode{\sphinxupquote{false → P}}, and whenever you need it, there is a hypothesis \sphinxcode{\sphinxupquote{false.elim : false → P}}, which works \sphinxstyleemphasis{for any} \sphinxcode{\sphinxupquote{P : Prop}}.

\def\sphinxLiteralBlockLabel{\label{\detokenize{day1:explosion-examples}}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{R}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{y}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{p}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{f}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{.}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{r}\PYG{l+s+sd}{a}\PYG{l+s+sd}{d}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{n}{R} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{∧} \PYG{n}{false} \PYG{n+nb+bp}{↔} \PYG{n}{false} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{principle\PYGZus{}of\PYGZus{}explosion} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{∧} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Final Remarks}
\label{\detokenize{day1:final-remarks}}
\sphinxAtStartPar
You might be wondering, if type theory is so cool why have I not heard of it before?

\sphinxAtStartPar
Many programming languages highly depend on type theory (that’s where the term \sphinxcode{\sphinxupquote{datatype}} comes from).
Once you define a term \sphinxcode{\sphinxupquote{x : ℕ}}, a computer can immediately check that all the manipulations you do with \sphinxcode{\sphinxupquote{x}}
are valid manipulations of natural numbers (so you don’t accidentally divide by 0 %
\begin{footnote}[1]\sphinxAtStartFootnote
Except under staff supervision.
%
\end{footnote} , for example).

\sphinxAtStartPar
Unfortunately, this also means that the term \sphinxcode{\sphinxupquote{1 : ℕ}} is different from the term \sphinxcode{\sphinxupquote{1 : ℤ}}.
In Lean, if you do \sphinxcode{\sphinxupquote{(1 : ℕ \sphinxhyphen{} 2 : ℕ)}} you get \sphinxcode{\sphinxupquote{0 : ℕ}} but if you do \sphinxcode{\sphinxupquote{(1 : ℤ \sphinxhyphen{} 2 : ℤ)}} you get \sphinxcode{\sphinxupquote{\sphinxhyphen{}1 : ℤ}},
that’s because natural numbers and subtraction are not buddies.
Another issue is that \sphinxcode{\sphinxupquote{1 : ℕ = 1 : ℤ}} is not a valid statement in type theory.
This is not the end of the world though.
Lean allows you to \sphinxstyleemphasis{coerce} \sphinxcode{\sphinxupquote{1 : ℕ}} to \sphinxcode{\sphinxupquote{1 : ℤ}} if you want subtraction to work properly,
or \sphinxcode{\sphinxupquote{1 : ℕ}} to \sphinxcode{\sphinxupquote{1 : ℚ}} if you want division to work properly.

\sphinxAtStartPar
This, and a few other such things, is what drives most mathematicians away from type theory.
But these things are only difficult when you’re first learning them.
With practice, type theory becomes second nature, the same as set theory.
In fact, the exact type theoretic system Lean uses is \sphinxstyleemphasis{equiconsistent}  with a slightly stronger version of ZFC, the generally\sphinxhyphen{}accepted axiom system for set theory.
(See \sphinxhref{https://github.com/digama0/lean-type-theory/releases/tag/v1.0}{Mario Carneiro’s MS thesis})
\subsubsection*{footnotes}

\sphinxstepscope


\chapter{Logic in Lean \sphinxhyphen{} Part 2}
\label{\detokenize{day2:logic-in-lean-part-2}}\label{\detokenize{day2:day2}}\label{\detokenize{day2::doc}}
\sphinxAtStartPar
The goal today is to wrap up the remaining bits of logic and move on to doing some “actual math”.
Remember to \sphinxstylestrong{always save your work}.
You might find the {\hyperref[\detokenize{tactics::doc}]{\sphinxcrossref{\DUrole{doc}{Glossary of tactics}}}} page and the {\hyperref[\detokenize{symbols::doc}]{\sphinxcrossref{\DUrole{doc}{Pretty symbols}}}} page useful.

\sphinxAtStartPar
Before we move on to new stuff, let’s understand what we did yesterday.


\section{Behind the scenes}
\label{\detokenize{day2:behind-the-scenes}}
\sphinxAtStartPar
\sphinxstylestrong{A note on brackets:}
It is not uncommon to compose half a dozen functions in Lean.
The brackets get really messy and unwieldy.
As such, Lean will often drop the brackets by following the following conventions.
\begin{itemize}
\item {} 
\sphinxAtStartPar
The function \sphinxcode{\sphinxupquote{P → Q → R → S}} stands for \sphinxcode{\sphinxupquote{P → (Q → (R → S))}}.

\item {} 
\sphinxAtStartPar
The expression \sphinxcode{\sphinxupquote{a + b + c + d}} stands for \sphinxcode{\sphinxupquote{((a + b) + c) + d}}.

\end{itemize}

\sphinxAtStartPar
An easy way to remember this is that, arrows are bracketed on the right and binary operators on the left.


\subsection{Proof irrelevance}
\label{\detokenize{day2:proof-irrelevance}}
\sphinxAtStartPar
It might feel a bit weird to say that a proposition has proofs as its inhabitants.
Proofs can get huge and it seems unnecessary to have to remember not just the statement but also its proof.
This is something we don’t normally do in math.
To hide this complication, in type theory there is an axiom, called \sphinxstyleemphasis{proof irrelevance}, which says that
if \sphinxcode{\sphinxupquote{P : Prop}} and \sphinxcode{\sphinxupquote{hp1 hp2 : P}} then \sphinxcode{\sphinxupquote{hp1 = hp2}}.
Taking our \sphinxstyleemphasis{analogy} with sets further, you can think of a proposition as a set which is either empty or contains a single element (false or true).
In fact, in some forms of type theory (e.g. \sphinxhref{https://en.wikipedia.org/wiki/Homotopy\_type\_theory}{homotopy type theory}) this is taken as the definition of propositions.
This is of course not true for general types.
For example, \sphinxcode{\sphinxupquote{0 : ℕ ≠ 1 : ℕ}}.


\subsection{Proofs as functions}
\label{\detokenize{day2:proofs-as-functions}}
\sphinxAtStartPar
Every time you successfully construct a proof of a theorem say

\begin{sphinxVerbatim}[commandchars=\\\{\}]
theorem tautology (P : Prop) : P → P :=
begin
  intro hp,
  exact hp,
end
\end{sphinxVerbatim}

\sphinxAtStartPar
Lean constructs a \sphinxstyleemphasis{proof term} \sphinxcode{\sphinxupquote{tautology : ∀ P : Prop, P → P}}
(you can see this by typing \sphinxcode{\sphinxupquote{\#check tautology}}).

\sphinxAtStartPar
In type theory, the \sphinxstyleemphasis{for all} quantifier, \sphinxcode{\sphinxupquote{∀}}, is a generalized function, called a \sphinxhref{https://en.wikipedia.org/wiki/Dependent\_type}{dependent function}.
For all practical purposes, we can think of \sphinxcode{\sphinxupquote{tautology}} as having the type \sphinxcode{\sphinxupquote{(P : Prop) → (P → P)}}.
Note that this is not a function in the classical sense of the word because the codomain \sphinxcode{\sphinxupquote{(P → P)}} \sphinxstyleemphasis{depends} on the input variable \sphinxcode{\sphinxupquote{P}}.
If \sphinxcode{\sphinxupquote{Q : Prop}}, then \sphinxcode{\sphinxupquote{tautology(Q)}} is a term of type  \sphinxcode{\sphinxupquote{Q → Q}}.

\sphinxAtStartPar
Consider a theorem with multiple hypothesis, say

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{theorem} \PYG{n}{hello\PYGZus{}world} \PYG{p}{(}\PYG{n}{hp} \PYG{p}{:} \PYG{n}{P}\PYG{p}{)} \PYG{p}{(}\PYG{n}{hq} \PYG{p}{:} \PYG{n}{Q}\PYG{p}{)} \PYG{p}{(}\PYG{n}{hr} \PYG{p}{:} \PYG{n}{R}\PYG{p}{)} \PYG{p}{:} \PYG{n}{S}
\end{sphinxVerbatim}

\sphinxAtStartPar
Once we provide a proof of it, Lean will create a proof term
\sphinxcode{\sphinxupquote{hello\_world : (hp:P) → (hq:Q) → (hr:R) → S}}.
So that if we have terms \sphinxcode{\sphinxupquote{hp' : P}}, \sphinxcode{\sphinxupquote{hq' : Q}}, \sphinxcode{\sphinxupquote{hr' : R}}
then \sphinxcode{\sphinxupquote{hello\_world hp' hq' hr'}} (note the convenient lack of brackets) will be a term of type \sphinxcode{\sphinxupquote{S}}.

\sphinxAtStartPar
Once constructed, any term can be used in a later proof. For example,

\begin{sphinxVerbatim}[commandchars=\\\{\}]
example (P Q : Prop) : (P → Q) → (P → Q) :=
begin
  exact tautology (P → Q),
end
\end{sphinxVerbatim}

\sphinxAtStartPar
This is how Lean simulates mathematics.
Every time you prove a theorem using tactics a \sphinxstyleemphasis{proof term} gets created.
Because of proof irrelevance, Lean forgets the exact content of the proof and
only remembers its type.
All the proof terms can then be used in later proofs.
All of this falls under the giant umbrella of the \sphinxhref{https://en.wikipedia.org/wiki/Curry\%E2\%80\%93Howard\_correspondence}{Curry–Howard correspondence}.

\sphinxAtStartPar
We’ll now introduce an axiom which will give us the full power of proof by contradiction.


\section{The Law of the Excluded Middle}
\label{\detokenize{day2:the-law-of-the-excluded-middle}}
\sphinxAtStartPar
You can prove exactly one of the following using just \sphinxcode{\sphinxupquote{refine}}, \sphinxcode{\sphinxupquote{rintro}}, and \sphinxcode{\sphinxupquote{have}}.
Can you find which one?

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{Y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{e}\PYG{l+s+sd}{x}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{l}\PYG{l+s+sd}{y}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{ }\PYG{l+s+sd}{j}\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{t}
\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{C}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{h}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{?}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{not\PYGZus{}not\PYGZus{}self\PYGZus{}imp\PYGZus{}self} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{P}\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{contrapositive\PYGZus{}converse} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{n+nb+bp}{¬}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬}\PYG{n}{P}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
This is because it is not true that \sphinxcode{\sphinxupquote{¬ ¬ P = P}} \sphinxstyleemphasis{by definition}, after all,
\sphinxcode{\sphinxupquote{¬ ¬ P}} is \sphinxcode{\sphinxupquote{(P → false) → false}} which is drastically different from \sphinxcode{\sphinxupquote{P}}.
There is an extra axiom called \sphinxstylestrong{the law of excluded middle} which says that
either \sphinxcode{\sphinxupquote{P}} is inhabited or \sphinxcode{\sphinxupquote{¬ P}} is inhabited (and there is no \sphinxstyleemphasis{middle} option)
and so \sphinxcode{\sphinxupquote{P ↔ ¬ ¬ P}}.
Lean gives it to us in the form of \sphinxcode{\sphinxupquote{em P : P ∨ ¬ P}}, although it’s not always included.
Because some mathematicians would prefer to avoid using this in their proofs,
you have to type the lines \sphinxcode{\sphinxupquote{noncomputable theory}} and \sphinxcode{\sphinxupquote{open\_locale classical}}
near the top of the file, to show that you’re ok with using all of classical logic!

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{p}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∨}\PYG{l+s+sd}{ }\PYG{l+s+sd}{¬}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{e}\PYG{l+s+sd}{x}\PYG{l+s+sd}{c}\PYG{l+s+sd}{l}\PYG{l+s+sd}{u}\PYG{l+s+sd}{d}\PYG{l+s+sd}{e}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{m}\PYG{l+s+sd}{i}\PYG{l+s+sd}{d}\PYG{l+s+sd}{d}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{not\PYGZus{}not\PYGZus{}self\PYGZus{}imp\PYGZus{}self} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{P}\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{contrapositive\PYGZus{}converse} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{n+nb+bp}{¬}\PYG{n}{Q} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬}\PYG{n}{P}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{P} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{principle\PYGZus{}of\PYGZus{}explosion} \PYG{o}{(}\PYG{n}{P} \PYG{n}{Q} \PYG{o}{:} \PYG{k+kt}{Prop}\PYG{o}{)} \PYG{o}{:} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n+nb+bp}{¬} \PYG{n}{P} \PYG{n+nb+bp}{→} \PYG{n}{Q}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
There are more specialized tactics that combine \sphinxcode{\sphinxupquote{false.elim}} and \sphinxcode{\sphinxupquote{em}} with other tactics to streamline the process of dealing with negations.
You can read about them at {\hyperref[\detokenize{tactics::doc}]{\sphinxcrossref{\DUrole{doc}{Glossary of tactics}}}}, and if you want, you can try to shorten some of your above proofs with them.


\section{Quantifiers}
\label{\detokenize{day2:quantifiers}}
\sphinxAtStartPar
As mentioned it the introduction, the \sphinxstyleemphasis{for all} quantifier, \sphinxcode{\sphinxupquote{∀}}, is a generalization of a function.
As such the tactics for dealing with \sphinxcode{\sphinxupquote{∀}} are the same as those for \sphinxcode{\sphinxupquote{→}}.
(Type it as \sphinxcode{\sphinxupquote{\textbackslash{}forall}}.)


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{∀ x : X, P x}} and
\sphinxcode{\sphinxupquote{y}} is a term of type \sphinxcode{\sphinxupquote{X}} then
\sphinxcode{\sphinxupquote{have hpy := hp(y)}} creates a hypothesis \sphinxcode{\sphinxupquote{hpy : P y}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rintro}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{∀ x : X, P x}}, then
\sphinxcode{\sphinxupquote{rintro x,}} creates a hypothesis \sphinxcode{\sphinxupquote{x : X}} and
changes the target to \sphinxcode{\sphinxupquote{P x}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxAtStartPar
The \sphinxstyleemphasis{there exists} quantifier, \sphinxcode{\sphinxupquote{∃}}, in type theory, uses similar tools to
If you want to prove a statement \sphinxcode{\sphinxupquote{∃ x : X, P x}} then you need to provide a witness.
If you have a term \sphinxcode{\sphinxupquote{hp : ∃ x : X, P x}} then from this you can extract a witness.
(Type it as \sphinxcode{\sphinxupquote{\textbackslash{}exists}}.)


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{∃ x : X, P x}}, then
\sphinxcode{\sphinxupquote{cases hp with x key,}} breaks it into
\sphinxcode{\sphinxupquote{x : X}} and \sphinxcode{\sphinxupquote{key : P x}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{use}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{∃ x : X, P x}}
and \sphinxcode{\sphinxupquote{y}} is a term of type \sphinxcode{\sphinxupquote{X}}, then
\sphinxcode{\sphinxupquote{use y,}} changes the target to \sphinxcode{\sphinxupquote{P y}} and tries to close the goal.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxAtStartPar
Finally, we know enough Lean to start doing some fun stuff.


\subsection{Barber paradox}
\label{\detokenize{day2:barber-paradox}}
\sphinxAtStartPar
Let’s disprove the “barber paradox” due to Bertrand Russell.
The claim is that in a certain town there is a (male) barber that shaves all the men who do not shave themselves. (Why is this a paradox?)
Prove that this is a contradiction.
Here are some \DUrole{xref,std,std-doc}{hints} if you get stuck.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} men is type.}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} x : men means x is a man in the town}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} shaves x y is inhabited if x shaves y}

\PYG{k+kd}{variables} \PYG{o}{(}\PYG{n}{men} \PYG{o}{:} \PYG{k+kt}{Type}\PYG{o}{)} \PYG{o}{(}\PYG{n}{barber} \PYG{o}{:} \PYG{n}{men}\PYG{o}{)}
\PYG{k+kd}{variable}  \PYG{o}{(}\PYG{n}{shaves} \PYG{o}{:} \PYG{n}{men} \PYG{n+nb+bp}{→} \PYG{n}{men} \PYG{n+nb+bp}{→} \PYG{k+kt}{Prop}\PYG{o}{)}

\PYG{k+kd}{example} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{∀} \PYG{n}{x} \PYG{o}{:} \PYG{n}{men}\PYG{o}{,} \PYG{n}{shaves} \PYG{n}{barber} \PYG{n}{x} \PYG{n+nb+bp}{↔} \PYG{n+nb+bp}{¬} \PYG{n}{shaves} \PYG{n}{x} \PYG{n}{x}\PYG{o}{)} \PYG{o}{:=}
  \PYG{k+kd}{begin}
    \PYG{g+gr}{sorry}\PYG{o}{,}
  \PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Mathcampers singing paradox}
\label{\detokenize{day2:mathcampers-singing-paradox}}
\sphinxAtStartPar
Assume that the main lounge is non\sphinxhyphen{}empty.
At a fixed moment in time, there is someone in the lounge such that,
if they are singing,
then everyone in the lounge is singing.
(See \DUrole{xref,std,std-doc}{hints}).

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} camper is a type.}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} If x : camper then x is a camper in the main lounge.}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} singing(x) is inhabited if x is singing}

\PYG{k+kd}{theorem} \PYG{n}{math\PYGZus{}campers\PYGZus{}singing\PYGZus{}paradox}
  \PYG{o}{(}\PYG{n}{camper} \PYG{o}{:} \PYG{k+kt}{Type}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{singing} \PYG{o}{:} \PYG{n}{camper} \PYG{n+nb+bp}{→} \PYG{k+kt}{Prop}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{alice} \PYG{o}{:} \PYG{n}{camper}\PYG{o}{)} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} making sure that there is at least one camper in the lounge}
  \PYG{o}{:} \PYG{n+nb+bp}{∃} \PYG{n}{x} \PYG{o}{:} \PYG{n}{camper}\PYG{o}{,} \PYG{o}{(}\PYG{n}{singing} \PYG{n}{x} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n+nb+bp}{∀} \PYG{n}{y} \PYG{o}{:} \PYG{n}{camper}\PYG{o}{,} \PYG{n}{singing} \PYG{n}{y}\PYG{o}{)}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Relationship conundrum}
\label{\detokenize{day2:relationship-conundrum}}
\sphinxAtStartPar
A relation \sphinxcode{\sphinxupquote{r}} on a type \sphinxcode{\sphinxupquote{X}} is a map \sphinxcode{\sphinxupquote{r : X → X → Prop}}.
We say that \sphinxcode{\sphinxupquote{x}} is \sphinxstyleemphasis{related} to \sphinxcode{\sphinxupquote{y}} if \sphinxcode{\sphinxupquote{r x y}} is inhabited.
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{r}} is reflexive if \sphinxcode{\sphinxupquote{∀ x : X}}, \sphinxcode{\sphinxupquote{x}} is related to itself.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{r}} is symmetric if \sphinxcode{\sphinxupquote{∀ x y : X}}, \sphinxcode{\sphinxupquote{x}} is related to \sphinxcode{\sphinxupquote{y}} implies \sphinxcode{\sphinxupquote{y}} is related to \sphinxcode{\sphinxupquote{x}}.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{r}} is transitive if \sphinxcode{\sphinxupquote{∀ x y z : X}}, \sphinxcode{\sphinxupquote{x}} is related to \sphinxcode{\sphinxupquote{y}} and \sphinxcode{\sphinxupquote{y}} is related to \sphinxcode{\sphinxupquote{x}} implies \sphinxcode{\sphinxupquote{z}} is related to \sphinxcode{\sphinxupquote{z}}.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{r}} is connected if for all \sphinxcode{\sphinxupquote{x : X}} there is a \sphinxcode{\sphinxupquote{y : Y}} such that \sphinxcode{\sphinxupquote{x}} is related to \sphinxcode{\sphinxupquote{y}}.

\end{itemize}

\sphinxAtStartPar
Show that if a relation is symmetric, transitive, and connected,
then it is also reflexive.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic}

\PYG{k+kd}{variable} \PYG{n}{X} \PYG{o}{:} \PYG{k+kt}{Type}

\PYG{k+kd}{theorem} \PYG{n}{reflexive\PYGZus{}of\PYGZus{}symmetric\PYGZus{}transitive\PYGZus{}and\PYGZus{}connected}
  \PYG{o}{(}\PYG{n}{r} \PYG{o}{:} \PYG{n}{X} \PYG{n+nb+bp}{→} \PYG{n}{X} \PYG{n+nb+bp}{→} \PYG{k+kt}{Prop}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{h\PYGZus{}symm} \PYG{o}{:} \PYG{n+nb+bp}{∀} \PYG{n}{x} \PYG{n}{y} \PYG{o}{:} \PYG{n}{X}\PYG{o}{,} \PYG{n}{r} \PYG{n}{x} \PYG{n}{y} \PYG{n+nb+bp}{→} \PYG{n}{r} \PYG{n}{y} \PYG{n}{x}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{h\PYGZus{}trans} \PYG{o}{:} \PYG{n+nb+bp}{∀} \PYG{n}{x} \PYG{n}{y} \PYG{n}{z} \PYG{o}{:} \PYG{n}{X}\PYG{o}{,} \PYG{n}{r} \PYG{n}{x} \PYG{n}{y} \PYG{n+nb+bp}{→} \PYG{n}{r} \PYG{n}{y} \PYG{n}{z} \PYG{n+nb+bp}{→} \PYG{n}{r} \PYG{n}{x} \PYG{n}{z}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{h\PYGZus{}connected} \PYG{o}{:} \PYG{n+nb+bp}{∀} \PYG{n}{x}\PYG{o}{,} \PYG{n+nb+bp}{∃} \PYG{n}{y}\PYG{o}{,} \PYG{n}{r} \PYG{n}{x} \PYG{n}{y}\PYG{o}{)}
\PYG{o}{:} \PYG{o}{(}\PYG{n+nb+bp}{∀} \PYG{n}{x} \PYG{o}{:} \PYG{n}{X}\PYG{o}{,} \PYG{n}{r} \PYG{n}{x} \PYG{n}{x}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Equality}
\label{\detokenize{day2:equality}}
\sphinxAtStartPar
So far we have not seen how to deal with propositions of the form \sphinxcode{\sphinxupquote{P = Q}}, for example, \sphinxcode{\sphinxupquote{1 + 2 + ... + n = n(n + 1)/2}}. Proving these propositions by hand requires messing around with the axioms of type theory.
\sphinxstyleemphasis{Using} equalities on the other hand is very easy. The rewrite tactic (usually shortened to \sphinxcode{\sphinxupquote{rw}}) let’s you replace the left hand side of an equality with the right hand side.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P = Q}} (or \sphinxcode{\sphinxupquote{P ↔ Q}}), then
\begin{quote}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw f,}} searches for \sphinxcode{\sphinxupquote{P}} in the target and replaces it with \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw ←f,}} searches for \sphinxcode{\sphinxupquote{Q}} in the target and replaces it with \sphinxcode{\sphinxupquote{P}}.
\end{quote}

\sphinxAtStartPar
Additionally, if \sphinxcode{\sphinxupquote{hr : R}} is a hypothesis, then
\begin{quote}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw f at hr,}} searches for \sphinxcode{\sphinxupquote{P}} in the expression \sphinxcode{\sphinxupquote{R}} and replaces it with \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw ←f at hr,}} searches for \sphinxcode{\sphinxupquote{Q}} in the expression \sphinxcode{\sphinxupquote{R}} and replaces it with \sphinxcode{\sphinxupquote{P}}.
\end{quote}

\sphinxAtStartPar
Mathematically, this is saying “because \sphinxcode{\sphinxupquote{P = Q}}, we can replace \sphinxcode{\sphinxupquote{P}} with \sphinxcode{\sphinxupquote{Q}} (or the other way around)”.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxAtStartPar
To get the left arrow, type \sphinxcode{\sphinxupquote{\textbackslash{}l}}. If you want to rewrite a bunch of things in a row, you can type \sphinxcode{\sphinxupquote{rw {[}h1, h2, h3{]},}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic} \PYG{n}{data.nat.basic}
\PYG{k+kn}{open} \PYG{n}{nat}

\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{=}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{(}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{ }\PYG{l+s+sd}{↔}\PYG{l+s+sd}{ }\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{)}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{n}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{Q}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{.}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{O}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{v}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{t}\PYG{l+s+sd}{s}\PYG{l+s+sd}{:}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{←}\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{←}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{r}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{add\PYGZus{}self\PYGZus{}self\PYGZus{}eq\PYGZus{}double}
  \PYG{o}{(}\PYG{n}{x} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}
\PYG{o}{:} \PYG{n}{x} \PYG{n+nb+bp}{+} \PYG{n}{x} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{x} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{rw} \PYG{n}{two\PYGZus{}mul}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{F}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{t}\PYG{c+cm}{h}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{f}\PYG{c+cm}{o}\PYG{c+cm}{l}\PYG{c+cm}{l}\PYG{c+cm}{o}\PYG{c+cm}{w}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{g}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{o}\PYG{c+cm}{b}\PYG{c+cm}{l}\PYG{c+cm}{e}\PYG{c+cm}{m}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{u}\PYG{c+cm}{s}\PYG{c+cm}{e}
\PYG{c+cm}{ }\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{u}\PYG{c+cm}{l}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{a}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{a} \PYG{n}{b} \PYG{n}{c} \PYG{n}{d} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{hyp} \PYG{o}{:} \PYG{n}{c} \PYG{n+nb+bp}{=} \PYG{n}{d} \PYG{n+nb+bp}{*} \PYG{n}{a} \PYG{n+nb+bp}{+} \PYG{n}{b}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{hyp\PYGZsq{}} \PYG{o}{:} \PYG{n}{b} \PYG{n+nb+bp}{=} \PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{d}\PYG{o}{)}
\PYG{o}{:} \PYG{n}{c} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{o}{(}\PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{d}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{F}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{t}\PYG{c+cm}{h}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{f}\PYG{c+cm}{o}\PYG{c+cm}{l}\PYG{c+cm}{l}\PYG{c+cm}{o}\PYG{c+cm}{w}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{g}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{o}\PYG{c+cm}{b}\PYG{c+cm}{l}\PYG{c+cm}{e}\PYG{c+cm}{m}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{u}\PYG{c+cm}{s}\PYG{c+cm}{e}
\PYG{c+cm}{ }\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{s}\PYG{c+cm}{u}\PYG{c+cm}{b}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{e}\PYG{c+cm}{l}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{x}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{x}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZhy{}}\PYG{c+cm}{ }\PYG{c+cm}{x}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{0}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{a} \PYG{n}{b} \PYG{n}{c} \PYG{n}{d} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{hyp} \PYG{o}{:} \PYG{n}{c} \PYG{n+nb+bp}{=} \PYG{n}{b} \PYG{n+nb+bp}{*} \PYG{n}{a} \PYG{n+nb+bp}{\PYGZhy{}} \PYG{n}{d}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{hyp\PYGZsq{}} \PYG{o}{:} \PYG{n}{d} \PYG{n+nb+bp}{=} \PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{b}\PYG{o}{)}
\PYG{o}{:} \PYG{n}{c} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{0} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Surjective functions}
\label{\detokenize{day2:surjective-functions}}
\sphinxAtStartPar
Recall that a function \sphinxcode{\sphinxupquote{f : X → Y}} is surjective if for every \sphinxcode{\sphinxupquote{y : Y}} there exists a term \sphinxcode{\sphinxupquote{x : X}}
such that \sphinxcode{\sphinxupquote{f(x) = y}}.
In type theory, for every function \sphinxcode{\sphinxupquote{f}} we can define a corresponding proposition
\sphinxcode{\sphinxupquote{surjective (f) := ∀ y, ∃ x, f x = y}} and a function being surjective is equivalent to saying that the proposition \sphinxcode{\sphinxupquote{surjective(f)}} is inhabited.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic}
\PYG{k+kn}{open} \PYG{n}{function}

\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{I}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{k}\PYG{l+s+sd}{e}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{r}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{k}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{d}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{j}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{,}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{j}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{j}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{.}\PYG{l+s+sd}{ }\PYG{l+s+sd}{(}\PYG{l+s+sd}{T}\PYG{l+s+sd}{h}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{w}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{d}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{j}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{)}\PYG{l+s+sd}{.}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{T}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{r}\PYG{l+s+sd}{j}\PYG{l+s+sd}{e}\PYG{l+s+sd}{c}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{*}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{u}\PYG{l+s+sd}{n}\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{l}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{e}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{w}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{variables} \PYG{n}{X} \PYG{n}{Y} \PYG{n}{Z} \PYG{o}{:} \PYG{k+kt}{Type}
\PYG{k+kd}{variables} \PYG{o}{(}\PYG{n}{f} \PYG{o}{:} \PYG{n}{X} \PYG{n+nb+bp}{→} \PYG{n}{Y}\PYG{o}{)} \PYG{o}{(}\PYG{n}{g} \PYG{o}{:} \PYG{n}{Y} \PYG{n+nb+bp}{→} \PYG{n}{Z}\PYG{o}{)}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{s}\PYG{c+cm}{u}\PYG{c+cm}{r}\PYG{c+cm}{j}\PYG{c+cm}{e}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{i}\PYG{c+cm}{v}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{X}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{Y}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{y}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{∃}\PYG{c+cm}{ }\PYG{c+cm}{x}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{x}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{y}

\PYG{c+cm}{Y}\PYG{c+cm}{o}\PYG{c+cm}{u}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{a}\PYG{c+cm}{y}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{s}\PYG{c+cm}{o}\PYG{c+cm}{ }\PYG{c+cm}{w}\PYG{c+cm}{a}\PYG{c+cm}{n}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{t}\PYG{c+cm}{o}\PYG{c+cm}{ }\PYG{c+cm}{t}\PYG{c+cm}{r}\PYG{c+cm}{y}\PYG{c+cm}{ }\PYG{c+cm}{`}\PYG{c+cm}{`}\PYG{c+cm}{f}\PYG{c+cm}{u}\PYG{c+cm}{n}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{i}\PYG{c+cm}{o}\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{p}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{p}\PYG{c+cm}{p}\PYG{c+cm}{`}\PYG{c+cm}{`}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{example}
  \PYG{o}{(}\PYG{n}{hf} \PYG{o}{:} \PYG{n}{surjective} \PYG{n}{f}\PYG{o}{)}
  \PYG{o}{(}\PYG{n}{hg} \PYG{o}{:} \PYG{n}{surjective} \PYG{n}{g}\PYG{o}{)}
  \PYG{o}{:} \PYG{n}{surjective} \PYG{o}{(}\PYG{n}{g} \PYG{n+nb+bp}{∘} \PYG{n}{f}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example}
  \PYG{o}{(}\PYG{n}{hgf} \PYG{o}{:} \PYG{n}{surjective} \PYG{o}{(}\PYG{n}{g} \PYG{n+nb+bp}{∘} \PYG{n}{f}\PYG{o}{)}\PYG{o}{)}
  \PYG{o}{:} \PYG{n}{surjective} \PYG{n}{g} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxstepscope


\chapter{Infinitely Many Primes}
\label{\detokenize{day3:infinitely-many-primes}}\label{\detokenize{day3:day3}}\label{\detokenize{day3::doc}}
\sphinxAtStartPar
Today we will prove that there are infinitely many primes using \sphinxhref{https://leanprover-community.github.io/mathlib\_docs/}{mathlib library}. Our focus will be on how to \sphinxstyleemphasis{use} the library to prove more complicated theorems. Remember to always \sphinxstylestrong{save your work}.
First, we’re going to need to learn how Lean deals with divisibility of natural numbers.


\section{Divisibility and Primes}
\label{\detokenize{day3:divisibility-and-primes}}
\sphinxAtStartPar
In mathlib, divisibility for natural numbers is defined as the following \sphinxstyleemphasis{proposition}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
a ∣ b := (∃ k : ℕ, a = b * k)
\end{sphinxVerbatim}

\sphinxAtStartPar
For example, \sphinxcode{\sphinxupquote{2 | 4}} will be a proposition \sphinxcode{\sphinxupquote{∃ k : ℕ, 4 = 2 * k}}.
\sphinxstylestrong{Very important.} The statement \sphinxcode{\sphinxupquote{2 | 4}} is not saying that “2 divides 4 \sphinxstyleemphasis{is true}”.
It is simply a proposition that requires a proof.
\sphinxstylestrong{Warning:} If you need to type the divisibility symbol, type \sphinxcode{\sphinxupquote{\textbackslash{}mid}}.
This is \sphinxstylestrong{not} the vertical line on your keyboard.

\sphinxAtStartPar
Similarly, the mathlib library also contains a definition of \sphinxcode{\sphinxupquote{prime}}.
It’s a little complicated, but the library has this theorem connecting it back to the definition you know:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
theorem nat.prime\PYGZus{}def\PYGZus{}lt\PYGZsq{}\PYGZsq{} \PYGZob{}p : ℕ\PYGZcb{} :
  nat.prime p ↔
    2 ≤ p                                     \PYGZhy{}\PYGZhy{} p is at least 2
    ∧                                         \PYGZhy{}\PYGZhy{} and
    ∀ \PYGZob{}m : ℕ\PYGZcb{}, m ∣ p, m = 1 ∨ m = p           \PYGZhy{}\PYGZhy{} if m divides p, then m = 1 or m = p.
\end{sphinxVerbatim}

\sphinxAtStartPar
Same as with divisibility, for every natural number \sphinxcode{\sphinxupquote{n}},
\sphinxcode{\sphinxupquote{nat.prime n}} is a \sphinxstyleemphasis{proposition}.
So that \sphinxcode{\sphinxupquote{nat.prime 101}} requires a proof.
It is possible to go down the rabbit hole and prove it using just the axioms of natural numbers.
However, this is exhausting work, and exactly the kind of thing we’d rather the computer do!


\section{Trivial calculations}
\label{\detokenize{day3:trivial-calculations}}
\sphinxAtStartPar
Here are two of Lean’s many tactics that automate basic calculations for us.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_num}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_num}} is Lean’s calculator. If the target has a proof that involves \sphinxstyleemphasis{only} numbers and arithmetic operations,
then \sphinxcode{\sphinxupquote{norm\_num}} will close this goal.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp : P}} is an assumption then \sphinxcode{\sphinxupquote{norm\_num at hp,}} tries to use simplify \sphinxcode{\sphinxupquote{hp}} using basic arithmetic operations.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{ring\_nf}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{ring\_nf,}} is Lean’s algebraic manipulator.
If the target has a proof that involves \sphinxstyleemphasis{only} algebraic operations,
then \sphinxcode{\sphinxupquote{ring\_nf,}} will close the goal.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp : P}} is an assumption then \sphinxcode{\sphinxupquote{ring\_nf at hp,}} tries to use simplify \sphinxcode{\sphinxupquote{hp}} using basic algebraic operations.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{linarith}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{linarith,}} is Lean’s inequality solver.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic} \PYG{n}{data.nat.prime}

\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{n}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{m}\PYG{l+s+sd}{\PYGZus{}}\PYG{l+s+sd}{n}\PYG{l+s+sd}{u}\PYG{l+s+sd}{m}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{U}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{u}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{m}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{\PYGZus{}}\PYG{l+s+sd}{n}\PYG{l+s+sd}{f}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{U}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{u}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{c}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{b}\PYG{l+s+sd}{r}\PYG{l+s+sd}{a}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{U}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{f}\PYG{l+s+sd}{u}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{q}\PYG{l+s+sd}{u}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{.}


\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{example} \PYG{o}{:} \PYG{l+m+mi}{1} \PYG{n+nb+bp}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{:} \PYG{l+m+mi}{101} \PYG{n+nb+bp}{∣} \PYG{l+m+mi}{2020} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{:} \PYG{n}{nat.prime} \PYG{l+m+mi}{101} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{m} \PYG{n}{a} \PYG{n}{b} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:}  \PYG{n}{m}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{+} \PYG{o}{(}\PYG{n}{a} \PYG{n+nb+bp}{+} \PYG{n}{b}\PYG{o}{)} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{+} \PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{b} \PYG{n+nb+bp}{=} \PYG{o}{(}\PYG{n}{m} \PYG{n+nb+bp}{+} \PYG{n}{a}\PYG{o}{)} \PYG{n+nb+bp}{*} \PYG{o}{(}\PYG{n}{m} \PYG{n+nb+bp}{+} \PYG{n}{b}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{a} \PYG{n}{b} \PYG{n}{c} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:} \PYG{n}{a} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{b} \PYG{n+nb+bp}{→} \PYG{n}{b} \PYG{n+nb+bp}{≤} \PYG{n}{c} \PYG{n+nb+bp}{→} \PYG{n}{a} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{c} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{m} \PYG{n}{a} \PYG{n}{b} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:}  \PYG{n}{m} \PYG{n+nb+bp}{+} \PYG{n}{a} \PYG{n+nb+bp}{∣} \PYG{n}{m}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{+} \PYG{o}{(}\PYG{n}{a} \PYG{n+nb+bp}{+} \PYG{n}{b}\PYG{o}{)} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{+} \PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{b} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} try ``rw nat.prime\PYGZus{}def\PYGZus{}lt\PYGZsq{}\PYGZsq{} at hp,`` to get started}
\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{p} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{(}\PYG{n}{hp} \PYG{o}{:} \PYG{n}{nat.prime} \PYG{n}{p}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n}{p} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{example} \PYG{o}{(}\PYG{n}{a} \PYG{n}{b} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{¬} \PYG{n}{a} \PYG{n+nb+bp}{≤} \PYG{n}{b} \PYG{n+nb+bp}{→} \PYG{n}{b} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{a} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Creating subgoals}
\label{\detokenize{day3:creating-subgoals}}
\sphinxAtStartPar
Often when we write a long proof in math, we break it up into simpler problems.
This is done in Lean using the \sphinxcode{\sphinxupquote{have}} tactic.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have hp : P,}} creates a new goal with target \sphinxcode{\sphinxupquote{P}} and
adds \sphinxcode{\sphinxupquote{hp : P}} as a hypothesis to the original goal.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxAtStartPar
The use of \sphinxcode{\sphinxupquote{have}} that we have already seen is related to this one.
When you use the tactic \sphinxcode{\sphinxupquote{have hq := f(hp),}}
Lean is internally replacing it with \sphinxcode{\sphinxupquote{have hq : Q, exact f(hp),}}.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}} is crucial for being able to use theorems from the library.
To use these theorems you have to create terms that match the hypothesis \sphinxstyleemphasis{exactly}.
Consider the following example.
The type \sphinxcode{\sphinxupquote{n > 0}} is not the same as \sphinxcode{\sphinxupquote{0 < n}}.
If you need a term of type \sphinxcode{\sphinxupquote{n > 0}} and you only have \sphinxcode{\sphinxupquote{hn : 0 < n}}, then you can use
\sphinxcode{\sphinxupquote{have hn2 : n > 0, linarith,}} and you will have constructed a term \sphinxcode{\sphinxupquote{hn2}} of type \sphinxcode{\sphinxupquote{n > 0}}.

\sphinxAtStartPar
We will need the following lemma later. Remember to save your proof.
(Here’s a \DUrole{xref,std,std-doc}{hint} if you need one.)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic} \PYG{n}{data.nat.prime}
\PYG{k+kn}{open} \PYG{n}{nat}

\PYG{l+s+sd}{/\PYGZhy{}\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}

\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{v}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{g}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{d}\PYG{l+s+sd}{d}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{h}\PYG{l+s+sd}{p}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{P}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{h}\PYG{l+s+sd}{y}\PYG{l+s+sd}{p}\PYG{l+s+sd}{o}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{i}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{g}\PYG{l+s+sd}{o}\PYG{l+s+sd}{a}\PYG{l+s+sd}{l}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{Y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{\PYGZsq{}}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{e}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{o}\PYG{l+s+sd}{l}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{g}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{i}\PYG{l+s+sd}{b}\PYG{l+s+sd}{r}\PYG{l+s+sd}{a}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{:}

\PYG{l+s+sd}{n}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{.}\PYG{l+s+sd}{d}\PYG{l+s+sd}{v}\PYG{l+s+sd}{d}\PYG{l+s+sd}{\PYGZus{}}\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{b}\PYG{l+s+sd}{ }\PYG{l+s+sd}{:}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{≤}\PYG{l+s+sd}{ }\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{k}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∣}\PYG{l+s+sd}{ }\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{k}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∣}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{→}\PYG{l+s+sd}{ }\PYG{l+s+sd}{k}\PYG{l+s+sd}{ }\PYG{l+s+sd}{∣}\PYG{l+s+sd}{ }\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}

\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{(}\PYG{l+s+sd}{N}\PYG{l+s+sd}{o}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{y}\PYG{l+s+sd}{o}\PYG{l+s+sd}{u}\PYG{l+s+sd}{ }\PYG{l+s+sd}{d}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{\PYGZsq{}}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{e}\PYG{l+s+sd}{e}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{v}\PYG{l+s+sd}{i}\PYG{l+s+sd}{d}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{k}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{p}\PYG{l+s+sd}{u}\PYG{l+s+sd}{t}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{ }\PYG{l+s+sd}{d}\PYG{l+s+sd}{v}\PYG{l+s+sd}{d}\PYG{l+s+sd}{\PYGZus{}}\PYG{l+s+sd}{s}\PYG{l+s+sd}{u}\PYG{l+s+sd}{b}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{L}\PYG{l+s+sd}{e}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{c}\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{n}\PYG{l+s+sd}{f}\PYG{l+s+sd}{e}\PYG{l+s+sd}{r}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{f}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{m}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{e}\PYG{l+s+sd}{x}\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{s}\PYG{l+s+sd}{s}\PYG{l+s+sd}{i}\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{.}
\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{ }\PYG{l+s+sd}{M}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{o}\PYG{l+s+sd}{n}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{i}\PYG{l+s+sd}{s}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{o}\PYG{l+s+sd}{m}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{.}\PYG{l+s+sd}{)}

\PYG{l+s+sd}{D}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{s}\PYG{l+s+sd}{o}\PYG{l+s+sd}{r}\PYG{l+s+sd}{r}\PYG{l+s+sd}{y}\PYG{l+s+sd}{,}\PYG{l+s+sd}{`}\PYG{l+s+sd}{`}\PYG{l+s+sd}{ }\PYG{l+s+sd}{b}\PYG{l+s+sd}{e}\PYG{l+s+sd}{l}\PYG{l+s+sd}{o}\PYG{l+s+sd}{w}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{n}\PYG{l+s+sd}{d}\PYG{l+s+sd}{ }\PYG{l+s+sd}{r}\PYG{l+s+sd}{e}\PYG{l+s+sd}{p}\PYG{l+s+sd}{l}\PYG{l+s+sd}{a}\PYG{l+s+sd}{c}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{ }\PYG{l+s+sd}{w}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{h}\PYG{l+s+sd}{ }\PYG{l+s+sd}{a}\PYG{l+s+sd}{ }\PYG{l+s+sd}{l}\PYG{l+s+sd}{e}\PYG{l+s+sd}{g}\PYG{l+s+sd}{i}\PYG{l+s+sd}{t}\PYG{l+s+sd}{i}\PYG{l+s+sd}{m}\PYG{l+s+sd}{a}\PYG{l+s+sd}{t}\PYG{l+s+sd}{e}\PYG{l+s+sd}{ }\PYG{l+s+sd}{p}\PYG{l+s+sd}{r}\PYG{l+s+sd}{o}\PYG{l+s+sd}{o}\PYG{l+s+sd}{f}\PYG{l+s+sd}{.}

\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}}\PYG{l+s+sd}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{dvd\PYGZus{}sub\PYGZus{}one} \PYG{o}{\PYGZob{}}\PYG{n}{p} \PYG{n}{a} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}} \PYG{o}{:} \PYG{o}{(}\PYG{n}{p} \PYG{n+nb+bp}{∣} \PYG{n}{a}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{p} \PYG{n+nb+bp}{∣} \PYG{n}{a} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{n}{p} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{1} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Infinitely many primes}
\label{\detokenize{day3:id1}}
\sphinxAtStartPar
We’ll now prove that there are infinitely many primes.
The strategy is to show that there is a prime greater than \sphinxcode{\sphinxupquote{n}}, for every natural number \sphinxcode{\sphinxupquote{n}}.
We will choose this prime to be smallest non\sphinxhyphen{}trivial factor of \sphinxcode{\sphinxupquote{n! + 1}}.
We’ll need the following definitions and theorems from the library.
\begin{description}
\sphinxlineitem{\sphinxstylestrong{Primes}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{m ∣ n := ∃ k : ℕ, m = n * k}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{m.prime :=  2 ≤ p ∧ (∀ (m : ℕ), m ∣ p → m = 1 ∨ m = p)}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{prime.not\_dvd\_one : (prime p) → ¬ p ∣ 1}}

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Factorials}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{n.fact := n!  \sphinxhyphen{}\sphinxhyphen{}n factorial}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{fact\_pos : ∀ (n : ℕ), 0 < n.fact}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{dvd\_fact : 0 < m → m ≤ n → m ∣ n.fact}}

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Smallest factor}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{n.min\_fac :=}} smallest non\sphinxhyphen{}trivial factor of \sphinxcode{\sphinxupquote{n}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{min\_fac\_prime : n ≠ 1 → n.min\_fac.prime}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{min\_fac\_pos : ∀ (n : ℕ), 0 < n.min\_fac}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{min\_fac\_dvd : ∀ (n : ℕ), n.min\_fac ∣ n}}

\end{itemize}

\end{description}

\sphinxAtStartPar
Check out \sphinxhref{https://leanprover-community.github.io/mathlib\_docs/data/nat/prime.html}{data.nat.prime} for more theorems about primes.
The exercise below is very open\sphinxhyphen{}ended.
You should take your time, check the goal window at every step, and sketch out the proof on paper whenever you get lost.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic} \PYG{n}{data.nat.prime}
\PYG{k+kd}{noncomputable theory}
\PYG{n}{open\PYGZus{}locale} \PYG{n}{classical}

\PYG{k+kn}{open} \PYG{n}{nat}

\PYG{k+kd}{theorem} \PYG{n}{dvd\PYGZus{}sub\PYGZus{}one} \PYG{o}{\PYGZob{}}\PYG{n}{p} \PYG{n}{a} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}} \PYG{o}{:} \PYG{o}{(}\PYG{n}{p} \PYG{n+nb+bp}{∣} \PYG{n}{a}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n}{p} \PYG{n+nb+bp}{∣} \PYG{n}{a} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{n+nb+bp}{→} \PYG{n}{p} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{1} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{u}\PYG{c+cm}{b}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{n}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{+}\PYG{c+cm}{ }\PYG{c+cm}{1}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{1}

\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{∃}\PYG{c+cm}{ }\PYG{c+cm}{k}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{k}
\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{ }\PYG{c+cm}{2}\PYG{c+cm}{ }\PYG{c+cm}{≤}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{∧}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{1}\PYG{c+cm}{ }\PYG{c+cm}{∨}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{)}
\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{n}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{¬}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{1}
\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}

\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{!}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{)}
\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}
\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{≤}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}

\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{s}\PYG{c+cm}{m}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{l}\PYG{c+cm}{e}\PYG{c+cm}{s}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZhy{}}\PYG{c+cm}{t}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{v}\PYG{c+cm}{i}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{ }\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{t}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{≠}\PYG{c+cm}{ }\PYG{c+cm}{1}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}
\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}
\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{f}\PYG{c+cm}{a}\PYG{c+cm}{c}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{exists\PYGZus{}infinite\PYGZus{}primes} \PYG{o}{(}\PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)} \PYG{o}{:} \PYG{n+nb+bp}{∃} \PYG{n}{p}\PYG{o}{,} \PYG{n}{nat.prime} \PYG{n}{p} \PYG{n+nb+bp}{∧} \PYG{n}{p} \PYG{n+nb+bp}{≥} \PYG{n}{n} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{set} \PYG{n}{p}\PYG{o}{:=} \PYG{o}{(}\PYG{n}{n.fact} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)}\PYG{n+nb+bp}{.}\PYG{n}{min\PYGZus{}fac}\PYG{o}{,}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Final remarks}
\label{\detokenize{day3:final-remarks}}
\sphinxAtStartPar
It would be great if there was a one\sphinxhyphen{}to\sphinxhyphen{}one correspondence between “hand\sphinxhyphen{}written proofs” and proofs in Lean. But that is far from the case. When we write proofs we leave out a lot of details without even realizing it and expect the reader to be intelligent enough to fill them in. This is both a bug and feature. On the one hand this makes proofs readable. On the other hand too many “obviously true” arguments make proofs undecipherable and often wrong.

\sphinxAtStartPar
Unlike human readers, computers are pretty dumb (as of writing these notes). They can only do what you tell them to do and you cannot expect them to “fill in the details”. But it is humanly impossible to teach a computer every single trivial fact about, say the natural numbers. The \sphinxhref{https://leanprover-community.github.io/mathlib\_docs/}{Lean math library} contains a lot of trivial theorems but this collection is far from comprehensive.
So theorem proving is Lean often involves the following steps:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Scan the library to see which definitions and theorems might be useful.

\item {} 
\sphinxAtStartPar
Choose the right hypotheses and wording for your theorem to match the theorems in the library. (Sadly, changing the wording slightly might end up making the proof infinitely harder to prove.)

\item {} 
\sphinxAtStartPar
Break the theorem into small lemmas so that you can use the simplifiers more frequently.

\end{itemize}

\sphinxAtStartPar
As time goes on, we hope that theorem proving AIs can do more and more of this work and eventually eliminate the difference between human proofs and machine proofs.

\sphinxstepscope


\chapter{Sqrt 2 is irrational}
\label{\detokenize{day4:sqrt-2-is-irrational}}\label{\detokenize{day4:day4}}\label{\detokenize{day4::doc}}
\sphinxAtStartPar
Today we will teach Lean that \(\sqrt{2}\) is irrational.
Let us start by reviewing some concepts we encountered yesterday.


\section{Implicit arguments}
\label{\detokenize{day4:implicit-arguments}}
\sphinxAtStartPar
Consider the following theorem which says that the smallest non\sphinxhyphen{}trivial factor of a natural number greater than 1 is a prime number.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
min\PYGZus{}fac\PYGZus{}prime : n ≠ 1 → n.min\PYGZus{}fac.prime
\end{sphinxVerbatim}

\sphinxAtStartPar
It needs only one argument, namely a term of type \sphinxcode{\sphinxupquote{n ≠ 1}}.
But we have not told Lean what \sphinxcode{\sphinxupquote{n}} is!
That’s because if we pass a term, say \sphinxcode{\sphinxupquote{hp : 2 ≠ 1}} to \sphinxcode{\sphinxupquote{min\_fac\_prime}} then from \sphinxcode{\sphinxupquote{hp}} Lean can infer that \sphinxcode{\sphinxupquote{n = 2}}.
\sphinxcode{\sphinxupquote{n}} is called an \sphinxstyleemphasis{implicit} argument.
An argument is made implicit by using curly brackets \sphinxcode{\sphinxupquote{\{}} and \sphinxcode{\sphinxupquote{\}}} instead of the usual \sphinxcode{\sphinxupquote{(}} and \sphinxcode{\sphinxupquote{)}} while defining the theorem.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
theorem min\PYGZus{}fac\PYGZus{}prime \PYGZob{}n : ℕ\PYGZcb{} (hne1 : n ≠ 1) : n.min\PYGZus{}fac.prime := ...
\end{sphinxVerbatim}

\sphinxAtStartPar
Sometimes the notation is ambiguous and Lean is unable to infer the implicit arguments.
In such a case, you can force all the arguments to become explicit by putting an \sphinxcode{\sphinxupquote{@}} symbol in from on the theorem. For example,

\begin{sphinxVerbatim}[commandchars=\\\{\}]
@min\PYGZus{}fac\PYGZus{}prime : (n : ℕ) → n ≠ 1 → n.min\PYGZus{}fac.prime
\end{sphinxVerbatim}

\sphinxAtStartPar
Use this sparingly as this makes the proof very hard to read and debug.


\section{The two haves}
\label{\detokenize{day4:the-two-haves}}
\sphinxAtStartPar
We have seen two slightly different variants of the \sphinxcode{\sphinxupquote{have}} tactic.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{have} \PYG{n}{hq} \PYG{o}{:=} \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}
\PYG{n}{have} \PYG{n}{hq} \PYG{p}{:} \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}
\end{sphinxVerbatim}

\sphinxAtStartPar
In the first case, we are defining \sphinxcode{\sphinxupquote{hq}} to be the term on the right hand side.
In the second case, we are saying that we do not know what the term \sphinxcode{\sphinxupquote{hq}} is but we know it’s type.

\sphinxAtStartPar
Let’s consider the example of \sphinxcode{\sphinxupquote{min\_fac\_prime}} again.
Suppose we want to conclude that the smallest factor of 10 is a prime.
We will need a term of type \sphinxcode{\sphinxupquote{10.min\_fac.prime}}.
If this is the target, we can use \sphinxcode{\sphinxupquote{apply min\_fac\_prime,}}.
If not, we need a proof of \sphinxcode{\sphinxupquote{10 ≠ 1}} to provide as input to \sphinxcode{\sphinxupquote{min\_fac\_prime}}.
For this we’ll use

\begin{sphinxVerbatim}[commandchars=\\\{\}]
have ten\PYGZus{}ne\PYGZus{}zero : 10 ≠ 1,
\end{sphinxVerbatim}

\sphinxAtStartPar
which will open up a goal with target \sphinxcode{\sphinxupquote{10 ≠ 1}}.
If on the other hand, you have another hypothesis, say \sphinxcode{\sphinxupquote{f : P →  (10 ≠ 1)}} and a term \sphinxcode{\sphinxupquote{hp : P}}, then

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{have} \PYG{n}{ten\PYGZus{}ne\PYGZus{}zero} \PYG{o}{:=} \PYG{n}{f}\PYG{p}{(}\PYG{n}{hp}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
will immediately create a term of type \sphinxcode{\sphinxupquote{10 ≠ 1}}. More generally, remember that
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
“\sphinxcode{\sphinxupquote{:=}}” stands for definition. \sphinxcode{\sphinxupquote{x := ...}} means that \sphinxcode{\sphinxupquote{x}} is defined to be the right hand side.

\item {} 
\sphinxAtStartPar
“\sphinxcode{\sphinxupquote{:}}” is a way of specifying type. \sphinxcode{\sphinxupquote{x : ...}} means that the type of \sphinxcode{\sphinxupquote{x}} is the right hand side.

\item {} 
\sphinxAtStartPar
“\sphinxcode{\sphinxupquote{=}}” is only ever used in propositions and has nothing to do with terms or types.

\end{enumerate}


\section{Sqrt(2) is irrational}
\label{\detokenize{day4:id1}}
\sphinxAtStartPar
We will show that there do not exist positive natural numbers \sphinxcode{\sphinxupquote{m}} and \sphinxcode{\sphinxupquote{n}} such that

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+m+mi}{2} \PYG{o}{*} \PYG{n}{m} \PYG{o}{\PYGZca{}} \PYG{l+m+mi}{2} \PYG{o}{=} \PYG{n}{n} \PYG{o}{\PYGZca{}} \PYG{l+m+mi}{2}  \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}} \PYG{p}{(}\PYG{o}{*}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
The crux of the proof is very easy.
You simply have to start with the assumption that \sphinxcode{\sphinxupquote{m}} and \sphinxcode{\sphinxupquote{n}} are coprime \sphinxstyleemphasis{without any loss of generality} and derive a contradiction.
But proving that \sphinxstyleemphasis{without a loss of generality} is a valid argument requires quite a bit of effort.
This proof is broken down into several parts.
The first two parts prove \sphinxcode{\sphinxupquote{(*)}} assuming that \sphinxcode{\sphinxupquote{m}} and \sphinxcode{\sphinxupquote{n}} are coprime.
The rest of the parts prove the \sphinxstyleemphasis{without loss of generality} part.

\sphinxAtStartPar
For this problem you’ll need the following definitions.
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{m.gcd n : ℕ}} is the gcd of \sphinxcode{\sphinxupquote{m}} and \sphinxcode{\sphinxupquote{n}}.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{m.coprime n}} is defined to be the proposition \sphinxcode{\sphinxupquote{m.gcd n = 1}}.

\end{itemize}

\sphinxAtStartPar
The descriptions of the library theorems that you’ll be needing are included as comments.
Have fun!


\subsection{Lemmas for proving (*) assuming m and n are coprime.}
\label{\detokenize{day4:lemmas-for-proving-assuming-m-and-n-are-coprime}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{w}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZca{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{m}

\PYG{c+cm}{C}\PYG{c+cm}{h}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{l}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{g}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{o}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{s}\PYG{c+cm}{t}\PYG{c+cm}{a}\PYG{c+cm}{r}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{w}\PYG{c+cm}{i}\PYG{c+cm}{t}\PYG{c+cm}{h}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{e}\PYG{c+cm}{v}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{d}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{s}\PYG{c+cm}{t}\PYG{c+cm}{e}\PYG{c+cm}{a}\PYG{c+cm}{d}
\PYG{c+cm}{\PYGZhy{}/}
\PYG{k+kd}{lemma} \PYG{n}{two\PYGZus{}dvd\PYGZus{}of\PYGZus{}two\PYGZus{}dvd\PYGZus{}sq} \PYG{o}{\PYGZob{}}\PYG{n}{k} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}} \PYG{o}{(}\PYG{n}{hk} \PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{∣} \PYG{n}{k}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2}\PYG{o}{)} \PYG{o}{:}
  \PYG{l+m+mi}{2} \PYG{n+nb+bp}{∣} \PYG{n}{k} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{lemma} \PYG{n}{division\PYGZus{}lemma\PYGZus{}n} \PYG{o}{\PYGZob{}}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}}
  \PYG{o}{(}\PYG{n}{hmn} \PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2}\PYG{o}{)}
\PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{∣} \PYG{n}{n} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{lemma} \PYG{n}{div\PYGZus{}2} \PYG{o}{\PYGZob{}}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}} \PYG{o}{(}\PYG{n}{hnm} \PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{n}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{n}{m} \PYG{n+nb+bp}{=} \PYG{n}{n}\PYG{o}{)} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{linarith}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{lemma} \PYG{n}{division\PYGZus{}lemma\PYGZus{}m} \PYG{o}{\PYGZob{}}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}}
  \PYG{o}{(}\PYG{n}{hmn} \PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2}\PYG{o}{)}
\PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{∣} \PYG{n}{m} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Prove (*) assuming m and n are coprime.}
\label{\detokenize{day4:prove-assuming-m-and-n-are-coprime}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{t}\PYG{c+cm}{h}\PYG{c+cm}{e}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{e}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{d}\PYG{c+cm}{v}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{1}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{∣}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{¬}\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{sqrt2\PYGZus{}irrational\PYGZsq{}} \PYG{o}{:}
  \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{∃} \PYG{o}{(}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,}
  \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{∧}
  \PYG{n}{m.coprime} \PYG{n}{n}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{rintro} \PYG{o}{⟨}\PYG{n}{m}\PYG{o}{,} \PYG{n}{n}\PYG{o}{,} \PYG{n}{hmn}\PYG{o}{,} \PYG{n}{h\PYGZus{}cop}\PYG{o}{⟩}\PYG{o}{,}
  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} these brackets let you combine ``rintro`` with (several iterations of) ``cases``}
  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} try using ``rintro h`` and then ``rcases h with ⟨m, n, hmn, h\PYGZus{}cop⟩,`` instead}
  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} you get the brackets by typing ``\PYGZbs{}langle`` and ``\PYGZbs{}rangle``}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Lemmas for proving (*) assuming 0 < m}
\label{\detokenize{day4:lemmas-for-proving-assuming-0-m}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{w}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZca{}}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{\PYGZhy{}/}
\PYG{k+kd}{lemma} \PYG{n}{ge\PYGZus{}zero\PYGZus{}sq\PYGZus{}ge\PYGZus{}zero} \PYG{o}{\PYGZob{}}\PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}} \PYG{o}{(}\PYG{n}{hne} \PYG{o}{:} \PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{n}\PYG{o}{)} \PYG{o}{:} \PYG{o}{(}\PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{n}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2}\PYG{o}{)}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{lemma} \PYG{n}{cancellation\PYGZus{}lemma} \PYG{o}{\PYGZob{}}\PYG{n}{k} \PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{\PYGZcb{}}
\PYG{o}{(}\PYG{n}{hk\PYGZus{}pos} \PYG{o}{:} \PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{k}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2}\PYG{o}{)}
\PYG{o}{(}\PYG{n}{hmn} \PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{o}{(}\PYG{n}{m} \PYG{n+nb+bp}{*} \PYG{n}{k}\PYG{o}{)} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{*} \PYG{n}{k}\PYG{o}{)} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2}\PYG{o}{)}
\PYG{o}{:} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n} \PYG{n+nb+bp}{\PYGZca{}} \PYG{l+m+mi}{2}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{rw} \PYG{n+nb+bp}{←} \PYG{n}{nat.mul\PYGZus{}left\PYGZus{}inj} \PYG{n}{hk\PYGZus{}pos}\PYG{o}{,} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} multiply on both sides by k\PYGZca{}2}
  \PYG{n}{ring\PYGZus{}nf} \PYG{n}{at} \PYG{n+nb+bp}{*}\PYG{o}{,}
  \PYG{n}{exact} \PYG{n}{hmn}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\subsection{Prove (*) assuming 0 < m}
\label{\detokenize{day4:prove-assuming-0-m}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{l}\PYG{c+cm}{e}\PYG{c+cm}{f}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{g}\PYG{c+cm}{h}\PYG{c+cm}{t}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{e}\PYG{c+cm}{x}\PYG{c+cm}{i}\PYG{c+cm}{s}\PYG{c+cm}{t}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{0}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZlt{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{∃}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{m}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{.}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{p}\PYG{c+cm}{r}\PYG{c+cm}{i}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{∧}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{∧}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{g}\PYG{c+cm}{c}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{)}
\PYG{c+cm}{\PYGZhy{}/}
\PYG{k+kd}{theorem} \PYG{n}{wlog\PYGZus{}coprime} \PYG{o}{:}
  \PYG{o}{(}\PYG{n+nb+bp}{∃} \PYG{o}{(}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,}
  \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{∧}
  \PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{m} \PYG{o}{)}
  \PYG{n+nb+bp}{→} \PYG{o}{(}\PYG{n+nb+bp}{∃} \PYG{o}{(}\PYG{n}{m\PYGZsq{}} \PYG{n}{n\PYGZsq{}} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,}
    \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m\PYGZsq{}}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n\PYGZsq{}}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{∧}
    \PYG{n}{m\PYGZsq{}.coprime} \PYG{n}{n\PYGZsq{}} \PYG{o}{)}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{rintro} \PYG{o}{⟨}\PYG{n}{m}\PYG{o}{,} \PYG{n}{n}\PYG{o}{,} \PYG{n}{hmn}\PYG{o}{,} \PYG{n}{hme0}\PYG{o}{⟩}\PYG{o}{,}
  \PYG{n}{set} \PYG{n}{k} \PYG{o}{:=} \PYG{n}{m.gcd} \PYG{n}{n} \PYG{k}{with} \PYG{n}{hk}\PYG{o}{,}
  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} might be useful to declutter}
  \PYG{c+c1}{\PYGZhy{}\PYGZhy{} you can replace all the ``m.gcd n`` with ``k`` using ``rw ←hk,`` if needed}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{theorem} \PYG{n}{sqrt2\PYGZus{}irrational\PYGZsq{}\PYGZsq{}} \PYG{o}{:}
  \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{∃} \PYG{o}{(}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,}
  \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{m}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{n}\PYG{n+nb+bp}{\PYGZca{}}\PYG{l+m+mi}{2} \PYG{n+nb+bp}{∧}
  \PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{m}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxstepscope


\chapter{Bits \& Pieces}
\label{\detokenize{day5:bits-pieces}}\label{\detokenize{day5:day5}}\label{\detokenize{day5::doc}}

\section{Namespaces}
\label{\detokenize{day5:namespaces}}
\sphinxAtStartPar
Lean provides us with the ability to group definitions into nested, hierarchical \sphinxstyleemphasis{namespaces}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{namespace} \PYG{n}{mcsp}
  \PYG{k+kd}{def} \PYG{n}{tau} \PYG{o}{:=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TAU on T\PYGZhy{}F from 1\PYGZhy{}3}\PYG{l+s+s2}{\PYGZdq{}}
  \PYG{k}{\PYGZsh{}eval} \PYG{n}{tau}
\PYG{k+kd}{end} \PYG{n}{mcsp}

\PYG{k+kd}{def} \PYG{n}{tau} \PYG{o}{:=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{no TAU on S}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{k}{\PYGZsh{}eval} \PYG{n}{tau}
\PYG{k}{\PYGZsh{}eval} \PYG{n}{mcsp.tau}

\PYG{k+kn}{open} \PYG{n}{mcsp}

\PYG{k}{\PYGZsh{}eval} \PYG{n}{tau} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} error}
\PYG{k}{\PYGZsh{}eval} \PYG{n}{mcsp.tau}
\end{sphinxVerbatim}

\sphinxAtStartPar
When we declare that we are working in the namespace \sphinxcode{\sphinxupquote{mscp}}, every identifier we declare has a full name with prefix “\sphinxcode{\sphinxupquote{mscp}}”.
Within the namespace, we can refer to identifiers by their shorter names, but once we end the namespace, we have to use the longer names.

\sphinxAtStartPar
The \sphinxcode{\sphinxupquote{open}} command brings the shorter names into the current context. Often, when we import a theory file, we will want to open one or more of the namespaces it contains, to have access to the short identifiers.
Further if \sphinxcode{\sphinxupquote{x}} is a term of type \sphinxcode{\sphinxupquote{nat}} and \sphinxcode{\sphinxupquote{f}} is a term defined in namespace \sphinxcode{\sphinxupquote{nat}} then \sphinxcode{\sphinxupquote{nat.f x}} can be shortened to \sphinxcode{\sphinxupquote{x.f}}.
Note that \sphinxcode{\sphinxupquote{ℕ}} is just another notation for \sphinxcode{\sphinxupquote{nat}}.


\section{Coercions}
\label{\detokenize{day5:coercions}}
\sphinxAtStartPar
In type theory every term has a type and two terms of different types cannot be equal to each other.
This makes it impossible to write statements like \sphinxcode{\sphinxupquote{|m|\textasciicircum{}2 = m\textasciicircum{}2}} where \sphinxcode{\sphinxupquote{m : ℤ}} and \sphinxcode{\sphinxupquote{|m| : ℕ}} is the absolute value of \sphinxcode{\sphinxupquote{m}}.
But in math, we do want this statement to be true!
The round about way to deal with this is through \sphinxstyleemphasis{coercions}.
Lean will coerce the above equality to live entirely in integers as, \sphinxcode{\sphinxupquote{↑|m|\textasciicircum{}2 = m\textasciicircum{}2}}.
This is done using an injective function \sphinxcode{\sphinxupquote{ℕ → ℤ}}.

\sphinxAtStartPar
Sometimes it is possible (and necessary) to get rid of the coercions.
For example, say we start out with \sphinxcode{\sphinxupquote{↑|m|\textasciicircum{}2 = m\textasciicircum{}2}} and eventually reduce it to \sphinxcode{\sphinxupquote{↑|m|\textasciicircum{}2 = ↑1}}.
The tactic for getting rid of coercions is \sphinxcode{\sphinxupquote{norm\_cast}} which will reduce the above expression to \sphinxcode{\sphinxupquote{|m|\textasciicircum{}2 = 1}}.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_cast}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_cast,}} tries to clear out coercions.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_cast at hp,}} tries to clear out coercions at the hypothesis \sphinxcode{\sphinxupquote{hp}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{tactic} \PYG{n}{data.nat.basic} \PYG{n}{data.int.basic}
\PYG{k+kd}{noncomputable theory}
\PYG{n}{open\PYGZus{}locale} \PYG{n}{classical}

\PYG{k+kd}{theorem} \PYG{n}{sqrt2\PYGZus{}irrational\PYGZus{}nat} \PYG{o}{:}
  \PYG{n+nb+bp}{¬} \PYG{n+nb+bp}{∃} \PYG{o}{(}\PYG{n}{m} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,}
  \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{o}{(}\PYG{n}{m} \PYG{n+nb+bp}{*} \PYG{n}{m}\PYG{o}{)} \PYG{n+nb+bp}{=} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{*} \PYG{n}{n}\PYG{o}{)} \PYG{n+nb+bp}{∧}
  \PYG{l+m+mi}{0} \PYG{n+nb+bp}{\PYGZlt{}} \PYG{n}{m}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Assume the above theorem}

\PYG{k+kd}{lemma} \PYG{n}{num\PYGZus{}2} \PYG{o}{:} \PYG{o}{(}\PYG{l+m+mi}{2} \PYG{o}{:} \PYG{n}{ℚ}\PYG{o}{)}\PYG{n+nb+bp}{.}\PYG{n}{num} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{2} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{k+kd}{lemma} \PYG{n}{denom\PYGZus{}2} \PYG{o}{:} \PYG{o}{(}\PYG{l+m+mi}{2} \PYG{o}{:} \PYG{n}{ℚ}\PYG{o}{)}\PYG{n+nb+bp}{.}\PYG{n}{denom} \PYG{n+nb+bp}{=} \PYG{l+m+mi}{1} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{v}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{u}\PYG{c+cm}{e}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}
\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}\PYG{c+cm}{e}\PYG{c+cm}{r}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{v}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{u}\PYG{c+cm}{e}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{ℤ}\PYG{c+cm}{)}

\PYG{c+cm}{f}\PYG{c+cm}{o}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{t}\PYG{c+cm}{e}\PYG{c+cm}{g}\PYG{c+cm}{e}\PYG{c+cm}{r}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{,}
\PYG{c+cm}{m}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{b}\PYG{c+cm}{s}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{b}\PYG{c+cm}{s}\PYG{c+cm}{o}\PYG{c+cm}{l}\PYG{c+cm}{u}\PYG{c+cm}{t}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{v}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{u}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{o}\PYG{c+cm}{f}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{v}\PYG{c+cm}{a}\PYG{c+cm}{l}\PYG{c+cm}{u}\PYG{c+cm}{e}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{)}

\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{b}\PYG{c+cm}{s}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{m}\PYG{c+cm}{u}\PYG{c+cm}{l}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{e}\PYG{c+cm}{l}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZsq{}}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℤ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{↑}\PYG{c+cm}{(}\PYG{c+cm}{a}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{b}\PYG{c+cm}{s}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{↑}\PYG{c+cm}{(}\PYG{c+cm}{a}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{b}\PYG{c+cm}{s}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{a}
\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{e}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{n}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{i}\PYG{c+cm}{n}\PYG{c+cm}{j}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℕ}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{↑}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{↑}\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{→}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{n}

\PYG{c+cm}{r}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{u}\PYG{c+cm}{l}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{e}\PYG{c+cm}{l}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℚ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{)}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}
\PYG{c+cm}{r}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{m}\PYG{c+cm}{u}\PYG{c+cm}{l}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{e}\PYG{c+cm}{l}\PYG{c+cm}{f}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℚ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{)}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{n}\PYG{c+cm}{u}\PYG{c+cm}{m}
\PYG{c+cm}{r}\PYG{c+cm}{a}\PYG{c+cm}{t}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{n}\PYG{c+cm}{e}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{z}\PYG{c+cm}{e}\PYG{c+cm}{r}\PYG{c+cm}{o}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{q}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℚ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{q}\PYG{c+cm}{.}\PYG{c+cm}{d}\PYG{c+cm}{e}\PYG{c+cm}{n}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{≠}\PYG{c+cm}{ }\PYG{c+cm}{0}

\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{theorem} \PYG{n}{sqrt2\PYGZus{}irrational} \PYG{o}{:}
\PYG{n+nb+bp}{¬} \PYG{o}{(}\PYG{n+nb+bp}{∃} \PYG{n}{q} \PYG{o}{:} \PYG{n}{ℚ}\PYG{o}{,} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{=} \PYG{n}{q} \PYG{n+nb+bp}{*} \PYG{n}{q}\PYG{o}{)}
\PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{n}{rintro} \PYG{o}{⟨}\PYG{n}{q}\PYG{o}{,} \PYG{n}{h}\PYG{o}{⟩}\PYG{o}{,}
  \PYG{k}{have} \PYG{n}{clear\PYGZus{}denom} \PYG{o}{:=} \PYG{n}{rat.eq\PYGZus{}iff\PYGZus{}mul\PYGZus{}eq\PYGZus{}mul.mp} \PYG{n}{h}\PYG{o}{,}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Type classes}
\label{\detokenize{day5:type-classes}}
\sphinxAtStartPar
Type classes are used to construct complex mathematical structures.
Any family of types can be marked as a type class.
We can then declare particular elements of a type class to be instances.
You can think of a type class as “template” for constructing particular instances.

\sphinxAtStartPar
Consider the example of groups.
A group is defined a type class with the following attributes.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
structure group : Type u → Type u
fields:
group.mul : Π \PYGZob{}α : Type u\PYGZcb{} [c : group α], α → α → α
group.mul\PYGZus{}assoc : ∀ \PYGZob{}α : Type u\PYGZcb{} [c : group α] (a b c\PYGZus{}1 : α), a * b * c\PYGZus{}1 = a * (b * c\PYGZus{}1)
group.one : Π \PYGZob{}α : Type u\PYGZcb{} [c : group α], α
group.one\PYGZus{}mul : ∀ \PYGZob{}α : Type u\PYGZcb{} [c : group α] (a : α), 1 * a = a
group.mul\PYGZus{}one : ∀ \PYGZob{}α : Type u\PYGZcb{} [c : group α] (a : α), a * 1 = a
group.inv : Π \PYGZob{}α : Type u\PYGZcb{} [c : group α], α → α
group.mul\PYGZus{}left\PYGZus{}inv : ∀ \PYGZob{}α : Type u\PYGZcb{} [c : group α] (a : α), a⁻¹ * a = 1
\end{sphinxVerbatim}

\sphinxAtStartPar
If you look at the \sphinxhref{https://github.com/leanprover-community/mathlib/blob/e52108d/src/algebra/group/defs.lean}{source code} you’ll see that the \sphinxcode{\sphinxupquote{class group}} is built gradually by extending multiple classes.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
class has\PYGZus{}one      (α : Type u) := (one : α)
\PYGZhy{}\PYGZhy{} a group has an identity element

class has\PYGZus{}mul      (α : Type u) := (mul : α → α → α)
\PYGZhy{}\PYGZhy{} a group has multiplication

class has\PYGZus{}inv      (α : Type u) := (inv : α → α)
\PYGZhy{}\PYGZhy{} a group has an inverse function

class semigroup (G : Type u) extends has\PYGZus{}mul G :=
(mul\PYGZus{}assoc : ∀ a b c : G, a * b * c = a * (b * c))
\PYGZhy{}\PYGZhy{} the multiplication is associative

class monoid (M : Type u) extends semigroup M, has\PYGZus{}one M :=
(one\PYGZus{}mul : ∀ a : M, 1 * a = a) (mul\PYGZus{}one : ∀ a : M, a * 1 = a)
\PYGZhy{}\PYGZhy{} multiplication by one is trivial

class group (α : Type u) extends monoid α, has\PYGZus{}inv α :=
(mul\PYGZus{}left\PYGZus{}inv : ∀ a : α, a⁻¹ * a = 1)
\PYGZhy{}\PYGZhy{} multiplication is associative
\end{sphinxVerbatim}

\sphinxAtStartPar
To define an arbitrary group \sphinxcode{\sphinxupquote{G}} we first create it as a type \sphinxcode{\sphinxupquote{G : Type}} and then make it an instance of \sphinxcode{\sphinxupquote{group}} using
\sphinxcode{\sphinxupquote{{[}group G{]}}}.
You can also prove that existing types are instances of \sphinxcode{\sphinxupquote{group}} using the \sphinxcode{\sphinxupquote{instance}} keyword.
Type classes allow us to prove theorems in vast generalities.
For example, any theorem about groups can immediately be applied to integers once we show that integers are an instance of \sphinxcode{\sphinxupquote{group}}.
If you look at \sphinxhref{https://github.com/leanprover-community/mathlib/blob/d1e63f3/src/data/int/basic.lean}{data.int.basic}
you’ll see that first fifty lines of code prove that \sphinxcode{\sphinxupquote{ℤ}} is an instance of several type classes.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{group\PYGZus{}theory.order\PYGZus{}of\PYGZus{}element}
\PYG{k+kn}{import} \PYG{n}{tactic}

\PYG{k}{\PYGZsh{}print} \PYG{n}{classes}
\PYG{k}{\PYGZsh{}print} \PYG{n}{instances} \PYG{n}{inhabited}

\PYG{k+kd}{class} \PYG{n}{cyclic\PYGZus{}group} \PYG{o}{(}\PYG{n}{G} \PYG{o}{:} \PYG{k+kt}{Type}\PYG{n+nb+bp}{*}\PYG{o}{)} \PYG{k+kd}{extends} \PYG{n}{group} \PYG{n}{G} \PYG{o}{:=}
\PYG{o}{(}\PYG{n}{has\PYGZus{}generator}\PYG{o}{:}  \PYG{n+nb+bp}{∃} \PYG{n}{g} \PYG{o}{:} \PYG{n}{G}\PYG{o}{,} \PYG{n+nb+bp}{∀} \PYG{n}{x} \PYG{o}{:} \PYG{n}{G}\PYG{o}{,} \PYG{n+nb+bp}{∃} \PYG{n}{n} \PYG{o}{:} \PYG{n}{ℤ}\PYG{o}{,} \PYG{n}{x} \PYG{n+nb+bp}{=} \PYG{n}{g}\PYG{n+nb+bp}{\PYGZca{}}\PYG{n}{n}\PYG{o}{)}

\PYG{c}{/\PYGZhy{}}
\PYG{c+cm}{z}\PYG{c+cm}{p}\PYG{c+cm}{o}\PYG{c+cm}{w}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{a}\PYG{c+cm}{d}\PYG{c+cm}{d}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{G}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{T}\PYG{c+cm}{y}\PYG{c+cm}{p}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{u}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{1}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{ }\PYG{c+cm}{[}\PYG{c+cm}{g}\PYG{c+cm}{r}\PYG{c+cm}{o}\PYG{c+cm}{u}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{G}\PYG{c+cm}{]}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{G}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{ℤ}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZca{}}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{+}\PYG{c+cm}{ }\PYG{c+cm}{n}\PYG{c+cm}{)}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZca{}}\PYG{c+cm}{ }\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{*}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZca{}}\PYG{c+cm}{ }\PYG{c+cm}{n}
\PYG{c+cm}{a}\PYG{c+cm}{d}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{m}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{∀}\PYG{c+cm}{ }\PYG{c+cm}{\PYGZob{}}\PYG{c+cm}{G}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{T}\PYG{c+cm}{y}\PYG{c+cm}{p}\PYG{c+cm}{e}\PYG{c+cm}{ }\PYG{c+cm}{u}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{1}\PYG{c+cm}{\PYGZcb{}}\PYG{c+cm}{ }\PYG{c+cm}{[}\PYG{c+cm}{a}\PYG{c+cm}{d}\PYG{c+cm}{d}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{c}\PYG{c+cm}{o}\PYG{c+cm}{m}\PYG{c+cm}{m}\PYG{c+cm}{\PYGZus{}}\PYG{c+cm}{s}\PYG{c+cm}{e}\PYG{c+cm}{m}\PYG{c+cm}{i}\PYG{c+cm}{g}\PYG{c+cm}{r}\PYG{c+cm}{o}\PYG{c+cm}{u}\PYG{c+cm}{p}\PYG{c+cm}{ }\PYG{c+cm}{G}\PYG{c+cm}{]}\PYG{c+cm}{ }\PYG{c+cm}{(}\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{:}\PYG{c+cm}{ }\PYG{c+cm}{G}\PYG{c+cm}{)}\PYG{c+cm}{,}\PYG{c+cm}{ }\PYG{c+cm}{a}\PYG{c+cm}{ }\PYG{c+cm}{+}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{=}\PYG{c+cm}{ }\PYG{c+cm}{b}\PYG{c+cm}{ }\PYG{c+cm}{+}\PYG{c+cm}{ }\PYG{c+cm}{a}
\PYG{c+cm}{\PYGZhy{}/}

\PYG{k+kd}{lemma} \PYG{n}{mul\PYGZus{}comm\PYGZus{}of\PYGZus{}cyclic}
  \PYG{o}{\PYGZob{}}\PYG{n}{G} \PYG{o}{:} \PYG{k+kt}{Type}\PYG{n+nb+bp}{*}\PYG{o}{\PYGZcb{}}
  \PYG{o}{[}\PYG{n}{hc}\PYG{o}{:} \PYG{n}{cyclic\PYGZus{}group} \PYG{n}{G}\PYG{o}{]}
  \PYG{o}{(}\PYG{n}{g} \PYG{o}{:} \PYG{n}{G}\PYG{o}{)}
\PYG{o}{:} \PYG{n+nb+bp}{∀} \PYG{n}{a} \PYG{n}{b} \PYG{o}{:} \PYG{n}{G}\PYG{o}{,} \PYG{n}{a} \PYG{n+nb+bp}{*} \PYG{n}{b} \PYG{n+nb+bp}{=} \PYG{n}{b} \PYG{n+nb+bp}{*} \PYG{n}{a} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{k}{have} \PYG{n}{has\PYGZus{}generator} \PYG{o}{:=} \PYG{n}{hc.has\PYGZus{}generator}\PYG{o}{,}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}


\section{Recursion and Induction}
\label{\detokenize{day5:recursion-and-induction}}
\sphinxAtStartPar
Lots of things in Lean are defined using recursion and proved using induction.
While this extends beyond just the natural numbers,
let’s try some familiar examples using the natural numbers and the familiar principle of induction.

\sphinxAtStartPar
First let’s see how to make a recursive definition. I’ll define afunction called \sphinxcode{\sphinxupquote{sum\_first : ℕ → ℕ}}
so that \sphinxcode{\sphinxupquote{sum\_first n}} is the sum of the first \sphinxcode{\sphinxupquote{n}} natural numbers.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{data.nat.basic}
\PYG{k+kn}{import} \PYG{n}{tactic}

\PYG{k+kd}{def} \PYG{n}{sum\PYGZus{}first} \PYG{o}{:}
  \PYG{n}{ℕ} \PYG{n+nb+bp}{→} \PYG{n}{ℕ} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the type of the function you want to define recursively}
\PYG{n+nb+bp}{|} \PYG{l+m+mi}{0} \PYG{o}{:=} \PYG{l+m+mi}{0} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the definition at 0}
\PYG{n+nb+bp}{|} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{o}{:=} \PYG{n}{sum\PYGZus{}first} \PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the definition at (n + 1), which can use the definition at n}
\end{sphinxVerbatim}

\sphinxAtStartPar
Now let’s prove the famous closed formula for \sphinxcode{\sphinxupquote{sum\_first n}}, using induction.
To do this, we’ll want the following two tactics:

\sphinxAtStartPar
Now let’s try the proof. Remember that \sphinxcode{\sphinxupquote{rw}} can be useful for unfolding definitions.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n}{data.nat.basic}
\PYG{k+kn}{import} \PYG{n}{tactic}

\PYG{k+kd}{def} \PYG{n}{sum\PYGZus{}first} \PYG{o}{:}
  \PYG{n}{ℕ} \PYG{n+nb+bp}{→} \PYG{n}{ℕ} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the type of the function you want to define recursively}
\PYG{n+nb+bp}{|} \PYG{l+m+mi}{0} \PYG{o}{:=} \PYG{l+m+mi}{0} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the definition at 0}
\PYG{n+nb+bp}{|} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{o}{:=} \PYG{n}{sum\PYGZus{}first} \PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{c+c1}{\PYGZhy{}\PYGZhy{} the definition at (n + 1), which can use the definition at n}

\PYG{k+kd}{example} \PYG{o}{:} \PYG{n+nb+bp}{∀} \PYG{o}{(}\PYG{n}{n} \PYG{o}{:} \PYG{n}{ℕ}\PYG{o}{)}\PYG{o}{,} \PYG{l+m+mi}{2} \PYG{n+nb+bp}{*} \PYG{n}{sum\PYGZus{}first} \PYG{n}{n} \PYG{n+nb+bp}{=} \PYG{o}{(}\PYG{n}{n} \PYG{n+nb+bp}{+} \PYG{l+m+mi}{1}\PYG{o}{)} \PYG{n+nb+bp}{*} \PYG{n}{n} \PYG{o}{:=}
\PYG{k+kd}{begin}
  \PYG{g+gr}{sorry}\PYG{o}{,}
\PYG{k+kd}{end}
\end{sphinxVerbatim}

\sphinxAtStartPar
If you want more practice proving things about natural numbers, including plenty of induction, try the \sphinxhref{https://www.ma.imperial.ac.uk/~buzzard/xena/natural\_number\_game/}{Natural Number Game}.

\sphinxstepscope


\chapter{Pretty Symbols in Lean}
\label{\detokenize{symbols:pretty-symbols-in-lean}}\label{\detokenize{symbols:symbols}}\label{\detokenize{symbols::doc}}
\sphinxAtStartPar
To produce a pretty symbol in Lean, type the \sphinxstyleemphasis{editor shortcut} followed by space or tab.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{20}{100}|\X{35}{100}|\X{45}{100}|}
\hline
\sphinxstyletheadfamily 
\sphinxAtStartPar
Unicode
&\sphinxstyletheadfamily 
\sphinxAtStartPar
Editor Shortcut
&\sphinxstyletheadfamily 
\sphinxAtStartPar
Definition
\\
\hline
\sphinxAtStartPar
→
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}to}}
&
\sphinxAtStartPar
function or implies
\\
\hline
\sphinxAtStartPar
↔
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}iff}}
&
\sphinxAtStartPar
if and only if
\\
\hline
\sphinxAtStartPar
←
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}l}}
&
\sphinxAtStartPar
used by the \sphinxcode{\sphinxupquote{rw}} tactic
\\
\hline
\sphinxAtStartPar
¬
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}not}}
&
\sphinxAtStartPar
negation operator
\\
\hline
\sphinxAtStartPar
∧
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}and}}
&
\sphinxAtStartPar
and operator
\\
\hline
\sphinxAtStartPar
∨
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}or}}
&
\sphinxAtStartPar
or operator
\\
\hline
\sphinxAtStartPar
∃
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}exists}}
&
\sphinxAtStartPar
there exists quantifier
\\
\hline
\sphinxAtStartPar
∀
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}forall}}
&
\sphinxAtStartPar
for all quantifier
\\
\hline
\sphinxAtStartPar
∣
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}mid}}
&
\sphinxAtStartPar
divisibility %
\begin{footnote}[1]\sphinxAtStartFootnote
Be very careful! The symbol for divisibility is not the \sphinxcode{\sphinxupquote{|}} symbol on your keyboard. Lean will through a cryptic error if you use it.
%
\end{footnote}
\\
\hline
\sphinxAtStartPar
ℕ
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}nat}}
&
\sphinxAtStartPar
type of natural numbers
\\
\hline
\sphinxAtStartPar
ℤ
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}int}}
&
\sphinxAtStartPar
type of integers
\\
\hline
\sphinxAtStartPar
∘
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}circ}}
&
\sphinxAtStartPar
composition of functions
\\
\hline
\sphinxAtStartPar
≠
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}ne}}
&
\sphinxAtStartPar
not equal to
\\
\hline
\sphinxAtStartPar
⟨⟩
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textbackslash{}langle}} and \sphinxcode{\sphinxupquote{\textbackslash{}rangle}}
&
\sphinxAtStartPar
used to build complicated types out of simple types
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

\sphinxstepscope


\chapter{Glossary of Tactics and Lemmas}
\label{\detokenize{tactics:glossary-of-tactics-and-lemmas}}\label{\detokenize{tactics:tactics}}\label{\detokenize{tactics::doc}}
\sphinxAtStartPar
Here’s a summary of all the tactics and some of the lemmas we will introduce in this class, as well as some other common ones you may encounter.


\section{Implications in Lean}
\label{\detokenize{tactics:implications-in-lean}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refine}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{P}} is the target of the current goal
and \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{P}},
then \sphinxcode{\sphinxupquote{refine hp,}} will close the goal.

\sphinxAtStartPar
Mathematically, this saying “this is what we were required to prove”.

\sphinxAtStartPar
If you can’t fully close a goal, but want to work somewhat from the end, you can use \sphinxcode{\sphinxupquote{\_}} to fill in the missing pieces.
For instance, if the target of the current goal is \sphinxcode{\sphinxupquote{Q}} and
\sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}}, then
\sphinxcode{\sphinxupquote{refine f \_,}} changes the target to \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
If you can fully close a goal, you can also type \sphinxcode{\sphinxupquote{exact hp,}}, which does pretty much the same thing.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rintro}}
&
\sphinxAtStartPar
If the target of the current goal is a function \sphinxcode{\sphinxupquote{P → Q}},
then \sphinxcode{\sphinxupquote{rintro hp,}} will produce a hypothesis
\sphinxcode{\sphinxupquote{hp : P}} and change the target to  \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
Mathematically, this is saying that in order to define a function from \sphinxcode{\sphinxupquote{P}} to \sphinxcode{\sphinxupquote{Q}},
we first need to choose (introduce) an arbitrary element of \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
If you want to use this repeatedly, you can type \sphinxcode{\sphinxupquote{rintro h1 h2}} instead of \sphinxcode{\sphinxupquote{rintro h1,}} and then \sphinxcode{\sphinxupquote{rintro h2,}}.
If you want to use this to introduce a variable of a more complicated type that you would then apply \sphinxcode{\sphinxupquote{cases}} to,
you can try something like \sphinxcode{\sphinxupquote{rintro ⟨x1, x2, x3⟩,}} where \sphinxcode{\sphinxupquote{⟨⟩}} are typed with \sphinxcode{\sphinxupquote{\textbackslash{}langle` and ``\textbackslash{}rangle}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}} is used to create intermediate variables.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}} and
\sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{P}}, then
\sphinxcode{\sphinxupquote{have hq := f(hp),}} creates the hypothesis \sphinxcode{\sphinxupquote{hq : Q}} .

\sphinxAtStartPar
You can also create subgoals with \sphinxcode{\sphinxupquote{have hp : P,}} which will create a separate goal to prove \sphinxcode{\sphinxupquote{P}}.
Once you have closed this goal, you’ll have the hypothesis \sphinxcode{\sphinxupquote{hp : P}} at your disposal.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{apply}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{apply}} is used for backward reasoning.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{Q}} and
\sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P → Q}}, then
\sphinxcode{\sphinxupquote{apply f,}} changes target to \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
Mathematically, this is equivalent to saying “because \sphinxcode{\sphinxupquote{P}} implies \sphinxcode{\sphinxupquote{Q}}, to prove \sphinxcode{\sphinxupquote{Q}} it suffices to prove \sphinxcode{\sphinxupquote{P}}”.
This is similar to using \sphinxcode{\sphinxupquote{refine \_,}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{And / Or}
\label{\detokenize{tactics:and-or}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}} is a general tactic that breaks a complicated term into simpler ones.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hpq}} is a term of type \sphinxcode{\sphinxupquote{P ∧ Q}}, then
\sphinxcode{\sphinxupquote{cases hpq with hp hq,}} breaks it into \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hp : Q}}.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hpq}} is a term of type \sphinxcode{\sphinxupquote{P × Q}}, then
\sphinxcode{\sphinxupquote{cases hpq with hp hq,}} breaks it into \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hp : Q}}.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{fg}} is a term of type \sphinxcode{\sphinxupquote{P ↔ Q}}, then
\sphinxcode{\sphinxupquote{cases fg with f g,}} breaks it into \sphinxcode{\sphinxupquote{f : P → Q}} and \sphinxcode{\sphinxupquote{g : Q → P}}.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hpq}} is a term of type \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{cases hpq with hp hq,}} creates two goals and adds the hypotheses \sphinxcode{\sphinxupquote{hp : P}} and \sphinxcode{\sphinxupquote{hq : Q}} to one each.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{split}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{split}} is a general tactic that breaks a complicated goal into simpler ones.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∧ Q}}, then
\sphinxcode{\sphinxupquote{split,}} breaks up the goal into two goals with targets \sphinxcode{\sphinxupquote{P}} and \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P × Q}}, then
\sphinxcode{\sphinxupquote{split,}} breaks up the goal into two goals with targets \sphinxcode{\sphinxupquote{P}} and \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ↔ Q}}, then
\sphinxcode{\sphinxupquote{split,}} breaks up the goal into two goals with targets \sphinxcode{\sphinxupquote{P → Q}} and \sphinxcode{\sphinxupquote{Q → P}}.

\sphinxAtStartPar
You can also accomplish this with \sphinxcode{\sphinxupquote{refine ⟨\_, \_⟩}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{left}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{left,}} changes the target to \sphinxcode{\sphinxupquote{P}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{right}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{P ∨ Q}}, then
\sphinxcode{\sphinxupquote{right,}} changes the target to \sphinxcode{\sphinxupquote{Q}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rcases}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rcases}} is a more general form of \sphinxcode{\sphinxupquote{cases}}. Needs the symbols \sphinxcode{\sphinxupquote{⟨⟩}}, which are typed with \sphinxcode{\sphinxupquote{\textbackslash{}langle}} and \sphinxcode{\sphinxupquote{\textbackslash{}rangle}}.

\sphinxAtStartPar
For an example, say you have \sphinxcode{\sphinxupquote{h : ∃ (m n : ℕ), 2 * m \textasciicircum{} 2 = n \textasciicircum{} 2 ∧ 0 < m}}.
Then you can type \sphinxcode{\sphinxupquote{rcases h with ⟨m, n, hmn, hme0⟩,}} to break \sphinxcode{\sphinxupquote{h}} into its 4 component parts.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{Negations and Proof by Contradiction}
\label{\detokenize{tactics:negations-and-proof-by-contradiction}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{false.elim}}
&
\sphinxAtStartPar
Not a tactic, but a lemma.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{P : Prop}}, then \sphinxcode{\sphinxupquote{false.elim : false → P}} lets you prove \sphinxcode{\sphinxupquote{P}} from a contradiction.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{exfalso}}
&
\sphinxAtStartPar
Changes the target of the current goal to \sphinxcode{\sphinxupquote{false}}.

\sphinxAtStartPar
The name derives from \sphinxhref{https://en.wikipedia.org/wiki/Principle\_of\_explosion}{“ex falso, quodlibet”} which translates to “from contradiction, anything”.
You should use this tactic when there are contradictory hypotheses present.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{em}}
&
\sphinxAtStartPar
Not a tactic, but a lemma.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{P : Prop}}, then \sphinxcode{\sphinxupquote{em P : P ∨ ¬ P}} lets you use the law of the excluded middle on \sphinxcode{\sphinxupquote{P}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{by\_cases}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{P : Prop}}, then \sphinxcode{\sphinxupquote{by\_cases hp : P,}} creates two goals,
the first with a hypothesis \sphinxcode{\sphinxupquote{hp: P}} and second with a hypothesis \sphinxcode{\sphinxupquote{hp: ¬ P}}.

\sphinxAtStartPar
This lets you use the law of the excluded middle, combining \sphinxcode{\sphinxupquote{em}} with \sphinxcode{\sphinxupquote{cases}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{by\_contradiction}}
&
\sphinxAtStartPar
If the target of the current goal is  \sphinxcode{\sphinxupquote{Q}},
then \sphinxcode{\sphinxupquote{by\_contradiction,}} changes the target to  \sphinxcode{\sphinxupquote{false}} and
adds \sphinxcode{\sphinxupquote{hnq : ¬ Q}} as a hypothesis.

\sphinxAtStartPar
Mathematically, this is proof by contradiction.
This is essentially a combination of \sphinxcode{\sphinxupquote{rintro}} with \sphinxcode{\sphinxupquote{false.elim}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{push\_neg}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{push\_neg,}} simplifies negations in the target.

\sphinxAtStartPar
For example, if the target of the current goal is \sphinxcode{\sphinxupquote{¬ ¬ P}}, then
\sphinxcode{\sphinxupquote{push\_neg,}} simplifies it to \sphinxcode{\sphinxupquote{P}}.

\sphinxAtStartPar
You can also push negations across a hypothesis \sphinxcode{\sphinxupquote{hp : P}} using \sphinxcode{\sphinxupquote{push\_neg at hp,}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{contrapose!}}
&
\sphinxAtStartPar
If the target of the current goal is  \sphinxcode{\sphinxupquote{P → Q}},
then \sphinxcode{\sphinxupquote{contrapose!,}} changes the target to  \sphinxcode{\sphinxupquote{¬ Q → ¬ P}}.

\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{Q}}
and one of the hypotheses is \sphinxcode{\sphinxupquote{hp : P}},
then \sphinxcode{\sphinxupquote{contrapose! hp,}} changes the target to  \sphinxcode{\sphinxupquote{¬ P}}
and changes the hypothesis to \sphinxcode{\sphinxupquote{hp : ¬ Q}}.

\sphinxAtStartPar
Mathematically, this is replacing the target by its contrapositive.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{Quantifiers}
\label{\detokenize{tactics:quantifiers}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{have}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{∀ x : X, P x}} and
\sphinxcode{\sphinxupquote{y}} is a term of type \sphinxcode{\sphinxupquote{y}} then
\sphinxcode{\sphinxupquote{have hpy := hp(y)}} creates a hypothesis \sphinxcode{\sphinxupquote{hpy : P y}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rintro}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{∀ x : X, P x}}, then
\sphinxcode{\sphinxupquote{rintro x,}} creates a hypothesis \sphinxcode{\sphinxupquote{x : X}} and
changes the target to \sphinxcode{\sphinxupquote{P x}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{cases}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp}} is a term of type \sphinxcode{\sphinxupquote{∃ x : X, P x}}, then
\sphinxcode{\sphinxupquote{cases hp with x key,}} breaks it into
\sphinxcode{\sphinxupquote{x : X}} and \sphinxcode{\sphinxupquote{key : P x}}.

\sphinxAtStartPar
See also \sphinxcode{\sphinxupquote{rcases}} to avoid using \sphinxcode{\sphinxupquote{cases}} repeatedly.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{use}}
&
\sphinxAtStartPar
If the target of the current goal is \sphinxcode{\sphinxupquote{∃ x : X, P x}}
and \sphinxcode{\sphinxupquote{y}} is a term of type \sphinxcode{\sphinxupquote{X}}, then
\sphinxcode{\sphinxupquote{use y,}} changes the target to \sphinxcode{\sphinxupquote{P y}} and tries to close the goal.

\sphinxAtStartPar
You can also use \sphinxcode{\sphinxupquote{refine ⟨\_, \_⟩,}} and then you get two goals, one with target \sphinxcode{\sphinxupquote{X}}, and the other is the fact \sphinxcode{\sphinxupquote{P y}},
where \sphinxcode{\sphinxupquote{y}} is the witness you entered for \sphinxcode{\sphinxupquote{X}}.
If you already have the witness \sphinxcode{\sphinxupquote{y}}, you may type \sphinxcode{\sphinxupquote{refine ⟨y, \_⟩,}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{Proving “trivial” statements}
\label{\detokenize{tactics:proving-trivial-statements}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refl}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refl,}} proves things that are literally true by definition.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_num}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{norm\_num}} is Lean’s calculator. If the target has a proof that involves \sphinxstyleemphasis{only} numbers and arithmetic operations,
then \sphinxcode{\sphinxupquote{norm\_num}} will close this goal.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp : P}} is an assumption then \sphinxcode{\sphinxupquote{norm\_num at hp,}} tries to use simplify \sphinxcode{\sphinxupquote{hp}} using basic arithmetic operations.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{ring\_nf}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{ring\_nf,}} is Lean’s symbolic manipulator.
If the target has a proof that involves \sphinxstyleemphasis{only} algebraic operations,
then \sphinxcode{\sphinxupquote{ring\_nf,}} will close the goal.

\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{hp : P}} is an assumption then \sphinxcode{\sphinxupquote{ring\_nf at hp,}} tries to use simplify \sphinxcode{\sphinxupquote{hp}} using basic algebraic operations.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{linarith}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{linarith,}} is Lean’s inequality solver.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{simp}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{simp,}} is a very complex tactic that tries to use theorems from the mathlib library to close the goal.
You should only ever use \sphinxcode{\sphinxupquote{simp,}} to \sphinxstyleemphasis{close a goal} because its behavior changes as more theorems get added to the library.
If you really want to use \sphinxcode{\sphinxupquote{simp,}} but it doesn’t close the goal, try \sphinxcode{\sphinxupquote{squeeze\_simp,}},
and click the instructions given in the goal window.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{Equality}
\label{\detokenize{tactics:equality}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{f}} is a term of type \sphinxcode{\sphinxupquote{P = Q}} (or \sphinxcode{\sphinxupquote{P ↔ Q}}), then
\begin{quote}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw f,}} searches for \sphinxcode{\sphinxupquote{P}} in the target and replaces it with \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw ←f,}} searches for \sphinxcode{\sphinxupquote{Q}} in the target and replaces it with \sphinxcode{\sphinxupquote{P}}.
\end{quote}

\sphinxAtStartPar
If additionally, \sphinxcode{\sphinxupquote{hr : R}} is a hypothesis, then
\begin{quote}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw f at hr,}} searches for \sphinxcode{\sphinxupquote{P}} in the expression \sphinxcode{\sphinxupquote{R}} and replaces it with \sphinxcode{\sphinxupquote{Q}}.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{rw ←f at hr,}} searches for \sphinxcode{\sphinxupquote{Q}} in the expression \sphinxcode{\sphinxupquote{R}} and replaces it with \sphinxcode{\sphinxupquote{P}}.
\end{quote}

\sphinxAtStartPar
Mathematically, this is saying because \sphinxcode{\sphinxupquote{P = Q}}, we can replace \sphinxcode{\sphinxupquote{P}} with \sphinxcode{\sphinxupquote{Q}} (or the other way around).

\sphinxAtStartPar
You can also use this to unfold definitions, for instance if \sphinxcode{\sphinxupquote{f : X → Y}}, then
\sphinxcode{\sphinxupquote{rw surjective,}} will change the goal \sphinxcode{\sphinxupquote{surjective f}} to
\sphinxcode{\sphinxupquote{∀ (b : Y), ∃ (a : X), f a = b}}, so you can see what you’re trying to prove.
For this purpose, you could also use the tactic \sphinxcode{\sphinxupquote{unfold}}, as in \sphinxcode{\sphinxupquote{unfold surjective,}}.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}


\section{Induction}
\label{\detokenize{tactics:induction}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|\X{10}{100}|\X{90}{100}|}
\hline

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{induction}}
&
\sphinxAtStartPar
If \sphinxcode{\sphinxupquote{n : ℕ}} is a natural number variable, \sphinxcode{\sphinxupquote{P : ℕ → Prop}} is a property of natural numbers,
and you want to prove \sphinxcode{\sphinxupquote{P n}} using induction, then \sphinxcode{\sphinxupquote{induction n using k ih,}} will create two goals.

\sphinxAtStartPar
One has target \sphinxcode{\sphinxupquote{P 0}}, this is the base case.

\sphinxAtStartPar
The other has target \sphinxcode{\sphinxupquote{P (k.succ)}}, where \sphinxcode{\sphinxupquote{k.succ = k + 1}}.
(You can rewrite away the \sphinxcode{\sphinxupquote{.succ}} with \sphinxcode{\sphinxupquote{nat.succ\_eq\_add\_one}}.)
You’re also provided an induction hypothesis, \sphinxcode{\sphinxupquote{ih : P k}}.
\\
\hline
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refl}}
&
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{refl,}} proves things that are literally true by definition.
Often this will handle your base case.
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}



\renewcommand{\indexname}{Index}
\printindex
\end{document}